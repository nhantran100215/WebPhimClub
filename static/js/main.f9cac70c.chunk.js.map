{"version":3,"sources":["images/icon.png","lib/tool/tool.js","contentApp.js","history.js","App.js","index.js"],"names":["CircleProcessBar","percent","this","props","rotate","left","right","border_color","className","style","stylecss","transform","Component","Loading","sortValue","Home","handleResize","console","log","today1","setState","width_trendingHeaderToday","clientWidth","width_trendingHeaderWeek","thisWeek1","handleToggleTrendind","x","trendingDay","state","search_str","history","window","addEventListener","trending","week","day","Today","Week","onSubmit","event","arr_search_str","split","convert_search_str","forEach","el","i","length","path_searchSTR","push","preventDefault","type","placeholder","onChange","e","target","value","popular","map","id","poster_path","vote_average","title","release_date","part_link","replace","to","src","alt","ref","onClick","color","width","Movie","handleWindowResize","innerWidth","display_page","display_first_page","display_last_page","Math","floor","amount_displayPage","handlePageTransition","form","num","amount_page_movies","amount_page_search","check_search","display_fontpage","value_page_goto","amount_page","Number","location","search","pathname","handleChangeInputGoto","calc_firstLastPage","numpage","handleClickFilterButton","sort","filter","amount_movie_page","movies","sort_result","a","b","popularity","year","includes","genres","genre_ids","remainder","builtRowsPage","rows","backgroundColor","createGenresMovie","genres_arr","indexofelement","indexOf","splice","release_year","keywords","genres_search","search_movie_disabled","sort_open","filter_open","varia","check_page","findIndex","display_page_movie","slice","display","disabled","fontSize","min","max","y","Film","pressKey","keyCode","turnOn_trailer","getSimilarMovies","str","match","params","slug","url","api_key","url_movie","fetch","response","json","datafet","similar_movie","results","backdrop_path","overview","vote_count","round","movie","getTrailerLink","film","trailer_link","key","error","getAPIMovie","scrollTo","updateHistory_finish","hover_poster","document","media_type","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","onMouseOver","onMouseOut","name","frameBorder","allow","allowFullScreen","arr_title","title_url","setTimeout","Search","builtFilmOfMovies","arr","wait","amount_displayFilm","link_part","replaceAll","onLoad","el1","join","opacity","builtFilterGenres","index","handleFilter","kind","active","search_arr","search_arr_props","a_year","b_year","check_genres","el2","j","toString","movies_length","label","arr_filter_keywords","search_arr_temp","search_arr_test","Collection","FAQ","createBrowserHistory","kindOfLink","concateString","time","App","getAPIMovieArr","parts","original_title","adult","original_language","trending1","original_name","first_air_date","check_movie_again","unshift","popular1","undefined","upcoming1","upcoming","toprated1","toprated","handleDisplayFilm","display_film","nowplaying","film_collection","HeaderApp","handleWheelAnywhere","deltaY","search_state_check","header_bar","handleScrollTop","scrollY","handleClickSearch","search_state","search_icon_suggest","headerSuggestAnimationEnd","updateSearchStateCheck","turnOffSearchHeader","search_keyString","removeEventListener","top","Logo","close_SearchBoard","HeaderSearchResult","searchArr_header","search_string","handleClickOutside","domNode","ReactDOM","findDOMNode","contains","handleClickResetSearchResult","handleChangeSearchStr","search_stringArr","i1","temp_searchArr_header","arr_search_string","convert_search_string","autoFocus","onAnimationEnd","titleArr","title_str","ContentApp","exact","path","render","FooterApp","ReactDom","getElementById"],"mappings":"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","file":"static/js/main.f9cac70c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon.d4773499.png\";","import \"./tool.css\";\r\nimport { useState, useEffect, Component } from \"react\";\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nexport function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n\r\nexport class CircleProcessBar extends Component {\r\n  render() {\r\n    let { percent } = this.props;\r\n    let rotate = { left: \"\", right: \"\" };\r\n    if (percent < 50) rotate.right = `rotate(${(percent * 180) / 50}deg)`;\r\n    else {\r\n      rotate.right = `rotate(180deg)`;\r\n      rotate.left = `rotate(${((percent - 50) * 180) / 50}deg)`;\r\n    }\r\n    let border_color =\r\n      percent < 34 ? \"red\" : percent < 67 ? \"yellow\" : \"#20bd6f\";\r\n    return (\r\n      <div className=\"circleProgressBar\" style={this.props.stylecss}>\r\n        <div className=\"circleProgressBar-outside\">\r\n          <div className=\"circleProgressBar-outside-right\">\r\n            <div\r\n              className=\"circleProgressBar-outside-right-run \"\r\n              style={{\r\n                transform: rotate.right,\r\n                \"--border-color\": border_color,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"circleProgressBar-outside-left\">\r\n            <div\r\n              className=\"circleProgressBar-outside-left-run\"\r\n              style={{ transform: rotate.left, \"--border-color\": border_color }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"circleProgressBar-inner\">{this.props.percent}%</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"loading\">\r\n          <div className=\"loading-inner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Link,\r\n  NavLink,\r\n  useLocation,\r\n  useParams,\r\n  // browserHistory,\r\n} from \"react-router-dom\";\r\nimport { CircleProcessBar, Loading } from \"./lib/tool/tool\";\r\nimport { GiNextButton } from \"react-icons/gi\";\r\nimport { FaPlayCircle } from \"react-icons/fa\";\r\nimport {\r\n  AiOutlineUnorderedList,\r\n  AiFillStar,\r\n  AiOutlineClose,\r\n} from \"react-icons/ai\";\r\nimport { MdFavorite } from \"react-icons/md\";\r\nimport { BsFillBookmarkFill } from \"react-icons/bs\";\r\nimport { IoIosArrowDown, IoIosArrowForward } from \"react-icons/io\";\r\nimport { act } from \"react-dom/test-utils\";\r\n// import { browserHistory } from \"react-router\";\r\n\r\nconst sortValue = [\r\n  \"Popularity Descending\",\r\n  \"Popularity Ascending\",\r\n  \"Rating Descending\",\r\n  \"Rating Ascending\",\r\n  \"Release Year Descending\",\r\n  \"Release Year Ascending\",\r\n  \"Title(A-Z)\",\r\n  \"Title(z-A)\",\r\n];\r\n\r\nexport class Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      trendingDay: false,\r\n      width_trendingHeaderToday: 62,\r\n      width_trendingHeaderWeek: 112,\r\n      search_str: \"\",\r\n      history: this.props.history,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    ////////////////get resize of element///////////////////////////////////////////////////\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  handleResize = () => {\r\n    console.log(\"handleResize\");\r\n    if (this.today1) {\r\n      // console.log(this.today1.clientWidth);\r\n      // console.log(this.thisWeek1.clientWidth);\r\n      this.setState({\r\n        width_trendingHeaderToday: this.today1.clientWidth,\r\n        width_trendingHeaderWeek: this.thisWeek1.clientWidth,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleToggleTrendind = (x) => {\r\n    this.setState({ trendingDay: x });\r\n  };\r\n  render() {\r\n    // console.log(this.props.popular);\r\n    // console.log(\"poster_path\");\r\n    // console.log(this.props.trending);\r\n    // console.log(this.today.current);\r\n    // console.log(this.thisWeek.current);\r\n    let { trendingDay, search_str, history } = this.state;\r\n    let trending = [];\r\n    trendingDay\r\n      ? (trending = this.props.trending.week)\r\n      : (trending = this.props.trending.day);\r\n    let Today = this.state.width_trendingHeaderToday + \"px\";\r\n    let Week = this.state.width_trendingHeaderWeek + \"px\";\r\n    return (\r\n      <div className=\"home\">\r\n        <div className=\"home-backdrop\">\r\n          <div className=\"home-backdrop-header\">\r\n            <h1>Welcome My Page</h1>\r\n            <h2>Thoudsands of movies to discover. Explore now.</h2>\r\n          </div>\r\n          <form\r\n            className=\"home-backdrop-search\"\r\n            onSubmit={(event) => {\r\n              const path = \"/webFilmClub/search/\";\r\n              let arr_search_str = search_str.split(\" \");\r\n              let convert_search_str = \"\";\r\n              arr_search_str.forEach((el, i) =>\r\n                i === arr_search_str.length - 1\r\n                  ? (convert_search_str = convert_search_str + el)\r\n                  : (convert_search_str = convert_search_str + el + \"-\")\r\n              );\r\n              let path_searchSTR = \"1?search=\" + convert_search_str;\r\n              if (search_str !== \"\") history.push(path + path_searchSTR);\r\n              // this.props.close_SearchBoard();\r\n              event.preventDefault();\r\n            }}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search for movie...\"\r\n              onChange={(e) => this.setState({ search_str: e.target.value })}\r\n            ></input>\r\n            <button>Search</button>\r\n          </form>\r\n        </div>\r\n        <div className=\"home-popular\">\r\n          <h2> Top 20 popular movies</h2>\r\n          <div className=\"home-popular-display\">\r\n            {this.props.popular.map((e, i) => {\r\n              let { id, poster_path, vote_average, title, release_date } = e;\r\n              let part_link = id + \"-\" + title.replace(/\\s/g, \"-\");\r\n              // console.log(part_link);\r\n              return (\r\n                <div className=\"movieBannerH\" key={i}>\r\n                  <Link\r\n                    to={\"/webFilmClub/movie/\" + part_link}\r\n                    key={i}\r\n                    className=\"link-decoration\"\r\n                  >\r\n                    <div className=\"movieBannerH-image\">\r\n                      <img src={poster_path} alt={title} />\r\n                      <div className=\"wrap-circleProcessBar\">\r\n                        <CircleProcessBar percent={vote_average * 10} />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"movieBannerH-averRate\"></div>\r\n                    <div className=\"movieBannerH-title\">\r\n                      <h4>{title}</h4>\r\n                      <h5>{release_date}</h5>\r\n                    </div>\r\n                  </Link>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"home-trending\">\r\n          <div className=\"home-popular\">\r\n            <div className=\"home-popular-header\">\r\n              <h2> Top 20 trending movies</h2>\r\n              <div className=\"home-popular-header-toggle noselect\">\r\n                <div\r\n                  ref={(today1) => (this.today1 = today1)}\r\n                  // ref={(el) => this.handleResizeToday(el)}\r\n                  className=\"bythetime\"\r\n                  onClick={() => this.handleToggleTrendind(false)}\r\n                  style={trendingDay ? { color: \"black\" } : { color: \"white\" }}\r\n                >\r\n                  Today\r\n                </div>\r\n                <div\r\n                  ref={(thisWeek1) => (this.thisWeek1 = thisWeek1)}\r\n                  // ref={(el) => this.handleResizeWeek(el)}\r\n                  className=\"bythetime\"\r\n                  onClick={() => this.handleToggleTrendind(true)}\r\n                  style={trendingDay ? { color: \"white\" } : { color: \"black\" }}\r\n                >\r\n                  This Week\r\n                </div>\r\n                <div\r\n                  className=\"cover\"\r\n                  style={\r\n                    trendingDay\r\n                      ? { left: Today, width: Week }\r\n                      : { left: 0, width: Today }\r\n                  }\r\n                ></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"home-popular-display\">\r\n              {trending.map((e, i) => {\r\n                let { id, poster_path, vote_average, title, release_date } = e;\r\n                let part_link = id + \"-\" + title.replace(/\\s/g, \"-\");\r\n                // console.log(part_link);\r\n                return (\r\n                  <div className=\"movieBannerH\" key={i}>\r\n                    <Link\r\n                      to={\"/webFilmClub/movie/\" + part_link}\r\n                      key={i}\r\n                      className=\"link-decoration\"\r\n                    >\r\n                      <div className=\"movieBannerH-image\">\r\n                        <img src={poster_path} alt={title} />\r\n                        <div className=\"wrap-circleProcessBar\">\r\n                          <CircleProcessBar percent={vote_average * 10} />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"movieBannerH-averRate\"></div>\r\n                      <div className=\"movieBannerH-title\">\r\n                        <h4>{title}</h4>\r\n                        <h5>{release_date}</h5>\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n//////////////////////////movie page/////////////////////////////////////////////////////////////////////\r\nexport class Movie extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ////////variable of parent\r\n      movies: this.props.movies,\r\n      amount_page_movies: 0,\r\n      genres: this.props.genres,\r\n      release_year: this.props.release_year,\r\n      history: this.props.history,\r\n      location: this.props.location,\r\n      /////////variable of child\r\n      search: [],\r\n      amount_page_search: 0,\r\n      check_search: false,\r\n      amount_displayPage: 8,\r\n      amount_movie_page: 24,\r\n      keywords: \"\",\r\n      genres_search: [],\r\n      display_first_page: 1,\r\n      display_last_page: 1,\r\n      display_page: 1,\r\n      value_page_goto: null,\r\n      search_movie_disabled: false,\r\n      sort: {\r\n        sort_open: false,\r\n        sort_result: \"\",\r\n      },\r\n      filter: {\r\n        filter_open: false,\r\n        year: -1,\r\n        genres: [],\r\n      },\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    // let { search } = nextprops;\r\n    let { release_year, movies } = props;\r\n    let { amount_movie_page, amount_displayPage, display_page } = state;\r\n    let amount_page_movies =\r\n      Math.floor(movies.length / amount_movie_page) +\r\n      (movies.length / amount_movie_page >\r\n      Math.floor(movies.length / amount_movie_page)\r\n        ? 1\r\n        : 0);\r\n    release_year = release_year.sort((x, y) => Number(y) - Number(x));\r\n    if (amount_page_movies !== state.amount_page_movies) {\r\n      return {\r\n        amount_page_movies: amount_page_movies,\r\n        release_year: release_year,\r\n        // search: movies,\r\n        // display_first_page: 1,\r\n        // display_last_page: amount_displayPage,\r\n      };\r\n    }\r\n\r\n    let { search } = window.location;\r\n    if (search) {\r\n      // search=search.replace(\"?\",\"\");\r\n      let varia = search.split(/[?=&]/);\r\n      console.log(varia);\r\n      let check_page = varia.findIndex((el) => el === \"page\");\r\n      console.log(Number(varia[check_page + 1]));\r\n      // let { display_first_page, display_last_page } =\r\n      // this.calc_firstLastPage(Number(varia[check_page + 1]));\r\n      if (check_page !== -1 && display_page !== Number(varia[check_page + 1]))\r\n        return {\r\n          display_page: Number(varia[check_page + 1]),\r\n          // display_first_page: display_first_page,\r\n          // display_last_page: display_last_page,\r\n        };\r\n    } else return { display_page: 1 };\r\n\r\n    return null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { search } = window.location;\r\n    let { display_first_page, display_last_page, display_page } = this.state;\r\n    // console.log(\"search\");\r\n    window.addEventListener(\"resize\", this.handleWindowResize);\r\n    this.handleWindowResize();\r\n    if (search) {\r\n      // search=search.replace(\"?\",\"\");\r\n      let varia = search.split(/[?=&]/);\r\n      console.log(varia);\r\n      let check_page = varia.findIndex((el) => el === \"page\");\r\n      console.log(Number(varia[check_page + 1]));\r\n      if (check_page !== -1 && display_page !== Number(varia[check_page + 1]))\r\n        this.setState({ display_page: Number(varia[check_page + 1]) });\r\n    } else this.setState({ display_page: 1 });\r\n    if (\r\n      (display_first_page > display_page) |\r\n      (display_last_page < display_page)\r\n    )\r\n      this.handlePageTransition(\"pageclick\", display_page, null);\r\n    ////////////////get resize of element///////////////////////////////////////////////////\r\n  }\r\n\r\n  handleWindowResize = () => {\r\n    console.log(\"window.innerHeight\");\r\n    console.log(window.innerWidth);\r\n    let { display_page, display_first_page, display_last_page } = this.state;\r\n\r\n    if (550 < window.innerWidth < 740) {\r\n      let amount_displayPage = 5;\r\n      display_first_page =\r\n        display_page > Math.floor(amount_displayPage / 2)\r\n          ? display_page - Math.floor(amount_displayPage / 2)\r\n          : 1;\r\n      display_last_page = amount_displayPage + display_first_page - 1;\r\n      this.setState({\r\n        amount_displayPage: amount_displayPage,\r\n        display_last_page,\r\n        display_first_page,\r\n      });\r\n    }\r\n\r\n    // if (window.innerWidth <= 550) {\r\n    //   let amount_displayPage = 3;\r\n    //   display_first_page =\r\n    //     display_page > Math.floor(amount_displayPage / 2)\r\n    //       ? display_page - Math.floor(amount_displayPage / 2)\r\n    //       : 1;\r\n    //   display_last_page = amount_displayPage + display_first_page - 1;\r\n    //   this.setState({\r\n    //     amount_displayPage: amount_displayPage,\r\n    //     display_last_page,\r\n    //     display_first_page,\r\n    //   });\r\n    // }\r\n\r\n    if (window.innerWidth >= 740) {\r\n      let amount_displayPage = 8;\r\n      display_first_page =\r\n        display_page > Math.floor(amount_displayPage / 2)\r\n          ? display_page - Math.floor(amount_displayPage / 2)\r\n          : 1;\r\n      display_last_page = amount_displayPage + display_first_page - 1;\r\n      this.setState({\r\n        amount_displayPage: amount_displayPage,\r\n        display_last_page,\r\n        display_first_page,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    // super.componentWillUnmount();\r\n    // // Unbind listener\r\n    // this.backListener();\r\n  }\r\n\r\n  handlePageTransition = (form, num, event) => {\r\n    let {\r\n      display_first_page,\r\n      display_last_page,\r\n      amount_page_movies,\r\n      amount_page_search,\r\n      check_search,\r\n      amount_displayPage,\r\n      display_page,\r\n      value_page_goto,\r\n    } = this.state;\r\n    let display_fontpage = 1;\r\n    let amount_page = check_search ? amount_page_search : amount_page_movies;\r\n\r\n    // console.log(num);\r\n\r\n    if (form === \"nextpage\") {\r\n      if (display_page < amount_page) num = display_page + 1;\r\n      else num = amount_page;\r\n    }\r\n\r\n    // console.log(num);\r\n\r\n    if (form === \"gotopage\") {\r\n      num = Number(this.state.value_page_goto);\r\n      console.log(\"num\");\r\n      // console.log(num);\r\n    }\r\n    // console.log(num);\r\n\r\n    if (num <= display_first_page) {\r\n      if (num - Math.floor(amount_displayPage / 2) > 0)\r\n        display_first_page = num - Math.floor(amount_displayPage / 2);\r\n      else {\r\n        display_first_page = 1;\r\n      }\r\n      display_fontpage = 1 + num - display_first_page;\r\n      if (num + amount_displayPage - display_fontpage <= amount_page)\r\n        display_last_page = num + amount_displayPage - display_fontpage;\r\n      else {\r\n        display_last_page = amount_page;\r\n      }\r\n    }\r\n    if (num >= display_last_page) {\r\n      // console.log(num + Math.floor(amount_displayPage / 2));\r\n      if (num + Math.floor(amount_displayPage / 2) <= amount_page) {\r\n        display_last_page = num + Math.floor(amount_displayPage / 2);\r\n        console.log(display_last_page);\r\n      } else {\r\n        display_last_page = amount_page;\r\n      }\r\n      display_fontpage = display_last_page - num + 1;\r\n      // console.log(\"display_fontpage\");\r\n      // console.log(display_fontpage);\r\n      if (num - amount_displayPage + display_fontpage > 0)\r\n        display_first_page = num - amount_displayPage + display_fontpage;\r\n      else {\r\n        display_first_page = 1;\r\n      }\r\n    }\r\n    // console.log(display_first_page, display_last_page, num);\r\n    // console.log(num);\r\n\r\n    //////////////////////get history//////////////////////////////////////////////////////\r\n    let { history } = this.state;\r\n    switch (form) {\r\n      case \"clickpage\":\r\n        if (history.location.search) {\r\n          // let index = history.location.search.search(\"page\");\r\n          num !== 1\r\n            ? (history.location.search = history.location.search.replace(\r\n                /page=[0-9]+$/,\r\n                \"page=\" + num\r\n              ))\r\n            : (history.location.search = \"\");\r\n        } else {\r\n          history.location.search = \"?page=\" + num;\r\n        }\r\n        this.props.history.push({\r\n          pathname: history.location.pathname,\r\n          search: history.location.search,\r\n          state: {},\r\n        });\r\n        this.setState({\r\n          display_page: num,\r\n          display_first_page: display_first_page,\r\n          display_last_page: display_last_page,\r\n        });\r\n        break;\r\n\r\n      case \"nextpage\":\r\n        if (history.location.search) {\r\n          // let index = history.location.search.search(\"page\");\r\n          num !== 1\r\n            ? (history.location.search = history.location.search.replace(\r\n                /page=[0-9]+$/,\r\n                \"page=\" + num\r\n              ))\r\n            : (history.location.search = \"\");\r\n        } else {\r\n          history.location.search = \"?page=\" + num;\r\n        }\r\n        this.props.history.push({\r\n          pathname: history.location.pathname,\r\n          search: history.location.search,\r\n          state: {},\r\n        });\r\n        this.setState({\r\n          display_page: num,\r\n          display_first_page,\r\n          display_last_page,\r\n        });\r\n        break;\r\n\r\n      case \"gotopage\":\r\n        if (history.location.search) {\r\n          // let index = history.location.search.search(\"page\");\r\n          num !== 1\r\n            ? (history.location.search = history.location.search.replace(\r\n                /page=[0-9]+$/,\r\n                \"page=\" + num\r\n              ))\r\n            : (history.location.search = \"\");\r\n        } else {\r\n          history.location.search = \"?page=\" + num;\r\n        }\r\n        this.props.history.push({\r\n          pathname: history.location.pathname,\r\n          search: history.location.search,\r\n          state: {},\r\n        });\r\n        this.setState({\r\n          display_page: num,\r\n          display_first_page,\r\n          display_last_page,\r\n          // value_page_goto: null,\r\n        });\r\n        event.preventDefault();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  handleChangeInputGoto = (event) => {\r\n    this.setState({ value_page_goto: event.target.value.replace(/\\D/, \"\") });\r\n  };\r\n\r\n  calc_firstLastPage = (numpage) => {\r\n    let { amount_page, amount_displayPage } = this.state;\r\n    let display_first_page = 0,\r\n      display_last_page = 0;\r\n    if (numpage < Math.floor(amount_displayPage / 2)) {\r\n      display_first_page = 1;\r\n      display_last_page = amount_displayPage;\r\n    } else if (numpage > amount_page - Math.floor(amount_displayPage / 2)) {\r\n      display_last_page = amount_page;\r\n      display_first_page = amount_page - amount_displayPage + 1;\r\n    } else {\r\n      display_first_page = numpage - Math.floor(amount_displayPage / 2) + 1;\r\n      display_last_page = display_first_page + amount_displayPage - 1;\r\n    }\r\n    console.log(display_first_page, display_last_page);\r\n    return { display_first_page, display_last_page };\r\n  };\r\n\r\n  handleClickFilterButton = () => {\r\n    let {\r\n      search,\r\n      sort,\r\n      filter,\r\n      amount_page,\r\n      amount_movie_page,\r\n      movies,\r\n      display_last_page,\r\n      display_page,\r\n      amount_displayPage,\r\n    } = this.state;\r\n    console.log(sort, filter, search, amount_page, movies);\r\n    //////sort by.///////////////\r\n    search = movies;\r\n    switch (sort.sort_result) {\r\n      case \"Popularity Descending\":\r\n        search.sort((a, b) => Number(b.popularity) - Number(a.popularity));\r\n        // console.log(search);\r\n        break;\r\n      case \"Popularity Ascending\":\r\n        search.sort((a, b) => Number(a.popularity) - Number(b.popularity));\r\n        // console.log(search);\r\n        break;\r\n      case \"Rating Descending\":\r\n        search.sort((a, b) => Number(b.vote_average) - Number(a.vote_average));\r\n        // console.log(search);\r\n        break;\r\n      case \"Rating Ascending\":\r\n        search.sort((a, b) => Number(a.vote_average) - Number(b.vote_average));\r\n        // console.log(search);\r\n        break;\r\n      case \"Release Year Descending\":\r\n        search.sort((a, b) => {\r\n          if (a.release_date < b.release_date) return 1;\r\n          else return -1;\r\n        });\r\n        // console.log(search);\r\n        break;\r\n      case \"Release Year Ascending\":\r\n        search.sort((a, b) => {\r\n          if (a.release_date < b.release_date) return -1;\r\n          else return 1;\r\n        });\r\n        // console.log(search);\r\n        break;\r\n      case \"Title(A-Z)\":\r\n        search.sort((a, b) => {\r\n          if (a.title < b.title) return 1;\r\n          else return -1;\r\n        });\r\n        console.log(search);\r\n        break;\r\n      case \"Title(z-A)\":\r\n        search.sort((a, b) => {\r\n          if (a.title < b.title) return -1;\r\n          else return 1;\r\n        });\r\n        console.log(search);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    ////////filter by year///////////////////\r\n    if (filter.year > 1000)\r\n      search = search.filter((e) => {\r\n        console.log(e.release_date);\r\n        console.log(filter.year);\r\n        return e.release_date?.includes(filter.year);\r\n      });\r\n    ///////filter by genres///////////////\r\n    console.log(filter.genres);\r\n    if (filter.genres.length !== 0)\r\n      filter.genres.forEach((el) => {\r\n        console.log(\"el\", el);\r\n        search = search.filter((e) => {\r\n          return e.genre_ids?.includes(Number(el));\r\n        });\r\n      });\r\n    let remainder =\r\n      search.length / amount_movie_page >\r\n      Math.floor(search.length / amount_movie_page)\r\n        ? 1\r\n        : 0;\r\n\r\n    amount_page = Math.floor(search.length / amount_movie_page) + remainder;\r\n    console.log(search, amount_page);\r\n    this.props.history.push({\r\n      pathname: \"/WebPhimClub/movie\",\r\n      search: \"\",\r\n      state: {},\r\n    });\r\n    // console.log(\"display_last_page:\", display_last_page);\r\n\r\n    if (display_last_page > amount_page) display_last_page = amount_page;\r\n    else display_last_page = this.state.amount_displayPage;\r\n    // console.log(\"display_last_page:\", display_last_page);\r\n    // console.log();\r\n    this.setState({\r\n      search,\r\n      amount_page_search: amount_page,\r\n      check_search: true,\r\n      display_page: 1,\r\n      display_last_page,\r\n    });\r\n  };\r\n  ////////////////////////////creat element//////////////////////////////////\r\n  builtRowsPage = (display_last_page) => {\r\n    const rows = [];\r\n    let {\r\n      display_first_page,\r\n      display_page,\r\n      amount_page_movies,\r\n      amount_page_search,\r\n      check_search,\r\n    } = this.state;\r\n    // let { display_first_page, display_last_page, display_page } = this.state;\r\n    let amount_page = check_search ? amount_page_search : amount_page_movies;\r\n    if (\r\n      (display_page < display_first_page) |\r\n      (display_page > display_last_page)\r\n    )\r\n      this.handlePageTransition(\"clickpage\", display_page, null);\r\n    if (display_last_page > amount_page) display_last_page = amount_page;\r\n\r\n    // console.log(\"object\");\r\n    // console.log(display_last_page);\r\n    // console.log(amount_page);\r\n    // console.log(this.state);\r\n    for (let i = display_first_page; i <= display_last_page; i++) {\r\n      rows[i] = (\r\n        <div\r\n          className=\"pagenum noselect\"\r\n          key={i}\r\n          onClick={() => this.handlePageTransition(\"clickpage\", i)}\r\n          style={{\r\n            backgroundColor: i === display_page ? \"black\" : \"white\",\r\n            color: i === display_page ? \"white\" : \"black\",\r\n          }}\r\n        >\r\n          <span> {i}</span>\r\n        </div>\r\n      );\r\n    }\r\n    return rows;\r\n  };\r\n\r\n  createGenresMovie = () => {\r\n    let genres_arr = [];\r\n    let { genres, filter } = this.state;\r\n    for (let e in genres) {\r\n      genres_arr[genres_arr.length] = (\r\n        <span\r\n          key={genres_arr.length}\r\n          onClick={() => {\r\n            let indexofelement = filter.genres.indexOf(e);\r\n            if (indexofelement === -1) filter.genres[filter.genres.length] = e;\r\n            else filter.genres.splice(indexofelement, 1);\r\n            this.setState({ filter });\r\n            console.log(filter.genres);\r\n          }}\r\n          className=\"noselect\"\r\n          style={\r\n            filter.genres.indexOf(e) !== -1\r\n              ? { backgroundColor: \"black\", color: \"white\" }\r\n              : { backgroundColor: \"white\", color: \"black\" }\r\n          }\r\n        >\r\n          {genres[e]}\r\n        </span>\r\n      );\r\n    }\r\n    return genres_arr;\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      amount_page_movies,\r\n      amount_page_search,\r\n      amount_movie_page,\r\n      search,\r\n      movies,\r\n      check_search,\r\n      // keywords,\r\n      // genres_search,\r\n      release_year,\r\n      // genres,\r\n      display_page,\r\n      // value_page_goto,\r\n      // location,\r\n      sort,\r\n      filter,\r\n      search_movie_disabled,\r\n      display_last_page,\r\n    } = this.state;\r\n    let display_page_movie = [];\r\n    let amount_page = check_search ? amount_page_search : amount_page_movies;\r\n    if (check_search)\r\n      display_page_movie = search.slice(\r\n        amount_movie_page * (display_page - 1),\r\n        amount_movie_page * display_page\r\n      );\r\n    else\r\n      display_page_movie = movies.slice(\r\n        amount_movie_page * (display_page - 1),\r\n        amount_movie_page * display_page\r\n      );\r\n    // console.log(this.props.handleDisplayFilm);\r\n    // this.props.handleDisplayFilm(display_page_movie);\r\n    return (\r\n      <div className=\"movie noselect\">\r\n        <div className=\"movie-tool\">\r\n          <div className=\"movie-tool-sort\">\r\n            <div\r\n              className=\"movie-tool-sort-label\"\r\n              onClick={() => {\r\n                sort.sort_open = !sort.sort_open;\r\n                this.setState({ sort: sort });\r\n              }}\r\n            >\r\n              <span>Sort </span>\r\n              {sort.sort_open ? <IoIosArrowForward /> : <IoIosArrowDown />}\r\n            </div>\r\n            <div\r\n              className=\"movie-tool-sort-tool\"\r\n              style={{ display: sort.sort_open ? \"inline-block\" : \"none\" }}\r\n            >\r\n              <div className=\"movie-tool-sort-devide\"></div>\r\n              <label>\r\n                Sort results by\r\n                <select\r\n                  value={sort.sort_result}\r\n                  onChange={(e) => {\r\n                    sort.sort_result = e.target.value;\r\n                    this.setState({ sort: sort, search_movie_disabled: true });\r\n                  }}\r\n                >\r\n                  <option value=\"\">Sort by</option>\r\n                  {sortValue.map((e, i) => (\r\n                    <option value={e} key={i}>\r\n                      {e}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"movie-tool-sort noselect\">\r\n            <div\r\n              className=\"movie-tool-sort-label \"\r\n              onClick={() => {\r\n                filter.filter_open = !filter.filter_open;\r\n                this.setState({ filter: filter });\r\n              }}\r\n            >\r\n              <span>Filters </span>\r\n              {filter.filter_open ? <IoIosArrowForward /> : <IoIosArrowDown />}\r\n            </div>\r\n            <div\r\n              className=\"movie-tool-sort-tool\"\r\n              style={{ display: filter.filter_open ? \"inline-block\" : \"none\" }}\r\n            >\r\n              <div className=\"movie-tool-sort-devide\"></div>\r\n              <label>\r\n                <div>Release Years</div>\r\n                <select\r\n                  value={filter.year}\r\n                  onChange={(e) => {\r\n                    filter.year = e.target.value;\r\n                    this.setState({\r\n                      filter: filter,\r\n                      search_movie_disabled: true,\r\n                    });\r\n                  }}\r\n                >\r\n                  <option value=\"\">Choose year</option>\r\n                  {release_year.map((e, i) => (\r\n                    <option value={e} key={i}>\r\n                      {e}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </label>\r\n              <div className=\"movie-tool-sort-devide\"></div>\r\n\r\n              <label>\r\n                <div>Genres</div>\r\n                <div className=\"genres\">{this.createGenresMovie()}</div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <button\r\n            disabled={\r\n              search_movie_disabled || filter.genres.length !== 0 ? false : true\r\n            }\r\n            onClick={this.handleClickFilterButton}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n        <div className=\"movie-display\">\r\n          {amount_page === 0 ? (\r\n            <div>No results for search</div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"movie-display-pagenum\">\r\n                {display_last_page > amount_page\r\n                  ? this.builtRowsPage(amount_page)\r\n                  : this.builtRowsPage(display_last_page)}\r\n                <div\r\n                  className=\"nextpage noselect\"\r\n                  onClick={() => this.handlePageTransition(\"nextpage\")}\r\n                >\r\n                  Next\r\n                  <GiNextButton style={{ fontSize: \"12px\" }} />\r\n                </div>\r\n                <form\r\n                  className=\"gotopage\"\r\n                  onSubmit={(e) => {\r\n                    this.handlePageTransition(\"gotopage\", null, e);\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder={amount_page}\r\n                    min=\"1\"\r\n                    max={amount_page}\r\n                    onChange={this.handleChangeInputGoto}\r\n                  ></input>\r\n                  <button className=\"noselect\">Go</button>\r\n                </form>\r\n              </div>\r\n              <div className=\"movie-display-film\">\r\n                {display_page_movie.map((el, i) => {\r\n                  let { id, poster_path, vote_average, title, release_date } =\r\n                    el;\r\n                  let part_link = id + \"-\" + title.replace(/\\s/g, \"-\");\r\n                  return (\r\n                    <div className=\"movieBanner col-6 col-mo-12\" key={i}>\r\n                      <Link\r\n                        to={\"/webFilmClub/movie/\" + part_link}\r\n                        key={i}\r\n                        className=\"link-decoration\"\r\n                        // onClick={() => {\r\n                        //   // console.log(el);\r\n                        //   this.props.handleDisplayFilm(el);\r\n                        // }}\r\n                      >\r\n                        <div className=\"movieBanner-image\">\r\n                          <img src={poster_path} alt={title}></img>\r\n                          <div className=\"wrap-circleProcessBar\">\r\n                            <CircleProcessBar percent={vote_average * 10} />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"movieBanner-averRate\"></div>\r\n                        <div className=\"movieBanner-title\">\r\n                          <h4>{title}</h4>\r\n                          <h5>{release_date}</h5>\r\n                        </div>\r\n                      </Link>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n              <div className=\"movie-display-pagenum\">\r\n                {display_last_page > amount_page\r\n                  ? this.builtRowsPage(amount_page)\r\n                  : this.builtRowsPage(display_last_page)}\r\n                <div\r\n                  className=\"nextpage noselect\"\r\n                  onClick={() => this.handlePageTransition(\"nextpage\")}\r\n                >\r\n                  Next\r\n                  <GiNextButton style={{ fontSize: \"12px\" }} />\r\n                </div>\r\n                <form\r\n                  className=\"gotopage\"\r\n                  onSubmit={(e) => {\r\n                    this.handlePageTransition(\"gotopage\", null, e);\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder={amount_page}\r\n                    min=\"1\"\r\n                    max={amount_page}\r\n                    onChange={this.handleChangeInputGoto}\r\n                  ></input>\r\n                  <button className=\"noselect\">Go</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Film extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      turnOn_trailer: false,\r\n      trailer_link: \"\",\r\n      movie: {},\r\n      genres: this.props.genres,\r\n      history: {\r\n        location: {\r\n          pathname: \"\",\r\n        },\r\n      },\r\n      updateHistory_finish: true,\r\n      hover_poster: false,\r\n      similar_movie: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    // console.log(\"componentDidMount\");\r\n    document.addEventListener(\"keydown\", this.pressKey, false);\r\n    this.getSimilarMovies(\"props\");\r\n  }\r\n\r\n  pressKey = (event) => {\r\n    if (event.keyCode === 27) {\r\n      //Do whatever when esc is pressed\r\n      this.setState({ turnOn_trailer: false });\r\n    }\r\n  };\r\n\r\n  getSimilarMovies = async (str) => {\r\n    console.log(\"getSimilarMovies\");\r\n    // this.setState({ updateHistory_finish: false });\r\n    // if(str===\"props\")?\r\n    const { history } = this.props;\r\n    console.log(history.location.pathname);\r\n    // if (history.location.pathname !== \"\")\r\n    //   if (window.location.pathname !== history.location.pathname)\r\n    //     history.location.pathname = window.location.pathname;\r\n    this.setState({ history });\r\n    // let pathnameArr = history.location.pathname.split(\"/\");\r\n    // console.log(pathnameArr[pathnameArr.length]);\r\n    const id = history.match.params.slug.split(\"-\")[0];\r\n    // const id = pathnameArr[pathnameArr.length]?.split(\"-\")[0];\r\n    const api_key = \"d1ac13b85f1d54e58edbe4543ffee597\";\r\n    const url =\r\n      \"https://api.themoviedb.org/3/movie/\" +\r\n      id +\r\n      \"/similar?api_key=\" +\r\n      api_key +\r\n      \"&language=en-US&page=1\";\r\n    const url_movie =\r\n      \"https://api.themoviedb.org/3/movie/\" +\r\n      id +\r\n      \"?api_key=\" +\r\n      api_key +\r\n      \"&language=en-US\";\r\n    console.log(url);\r\n    try {\r\n      const response = await fetch(url);\r\n      const datafet = await response.json();\r\n      // console.log(datafet);\r\n      let { similar_movie } = this.state;\r\n      similar_movie.length = 0;\r\n      datafet.results.forEach((el) => {\r\n        let {\r\n          backdrop_path,\r\n          genre_ids,\r\n          id,\r\n          title,\r\n          overview,\r\n          popularity,\r\n          poster_path,\r\n          release_date,\r\n          vote_average,\r\n          vote_count,\r\n        } = el;\r\n        backdrop_path = \"https://image.tmdb.org/t/p/w500\" + backdrop_path;\r\n        poster_path = \"https://image.tmdb.org/t/p/w500\" + poster_path;\r\n        vote_average = Math.round(vote_average * 10) / 10;\r\n        similar_movie[similar_movie.length] = {\r\n          backdrop_path,\r\n          genre_ids,\r\n          id,\r\n          title,\r\n          overview,\r\n          popularity,\r\n          poster_path,\r\n          release_date,\r\n          vote_average,\r\n          vote_count,\r\n        };\r\n      });\r\n      // console.log(similar_movie);\r\n      this.setState({ similar_movie });\r\n      console.log(similar_movie);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url_movie);\r\n      const datafet = await response.json();\r\n      // console.log(datafet);\r\n      let {\r\n        backdrop_path,\r\n        genres,\r\n        id,\r\n        title,\r\n        overview,\r\n        popularity,\r\n        poster_path,\r\n        release_date,\r\n        vote_average,\r\n        vote_count,\r\n      } = datafet;\r\n      let { movie } = this.state;\r\n      backdrop_path = \"https://image.tmdb.org/t/p/w500\" + backdrop_path;\r\n      poster_path = \"https://image.tmdb.org/t/p/w500\" + poster_path;\r\n      vote_average = Math.round(vote_average * 10) / 10;\r\n      let genre_ids = genres;\r\n      movie = {\r\n        backdrop_path,\r\n        genre_ids,\r\n        id,\r\n        title,\r\n        overview,\r\n        popularity,\r\n        poster_path,\r\n        release_date,\r\n        vote_average,\r\n        vote_count,\r\n      };\r\n      this.setState({ movie });\r\n      console.log(movie);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  getTrailerLink = async (film) => {\r\n    // http://api.themoviedb.org/3/movie/871875/videos?api_key=d1ac13b85f1d54e58edbe4543ffee597\r\n    // https://www.youtube.com/embed?v=SUXWAEX2jlg\r\n    let { trailer_link } = this.state;\r\n    let { id } = film;\r\n    console.log(id);\r\n    console.log(\"this.state.movies\");\r\n    console.log(film);\r\n    const api_key = \"d1ac13b85f1d54e58edbe4543ffee597\";\r\n    let url = \"\";\r\n    url = id\r\n      ? \" http://api.themoviedb.org/3/movie/\" +\r\n        id +\r\n        \"/videos?api_key=\" +\r\n        api_key\r\n      : \"\";\r\n    console.log(url);\r\n    try {\r\n      const response = await fetch(url);\r\n      const datafet = await response.json();\r\n      console.log(datafet);\r\n      let check_search_key = false;\r\n      datafet.results.forEach((el) => {\r\n        if (!check_search_key) {\r\n          if (el.type === \"Trailer\") {\r\n            trailer_link =\r\n              \"https://www.youtube.com/embed/\" + el.key + \"?autoplay=1&mute=0\";\r\n            console.log(trailer_link);\r\n          }\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n\r\n    this.setState({ turnOn_trailer: true, trailer_link });\r\n  };\r\n\r\n  getAPIMovie = () => {\r\n    // this.setState({ updateHistory_finish: false });\r\n    // let { history } = this.state;\r\n    // if (window.location.pathname !== history.location.pathname) {\r\n    console.log(\"object\");\r\n    this.getSimilarMovies();\r\n    window.scrollTo(80, 80);\r\n    // } else {\r\n    //   // this.setState({ updateHistory_finish: true });\r\n    // }\r\n    // return (\r\n    //   <div>\r\n    //     <Loading />\r\n    //   </div>\r\n    // );\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      movie,\r\n      history,\r\n      genres,\r\n      turnOn_trailer,\r\n      hover_poster,\r\n      trailer_link,\r\n      similar_movie,\r\n    } = this.state;\r\n\r\n    let {\r\n      id,\r\n      genre_ids,\r\n      media_type,\r\n      overview,\r\n      popularity,\r\n      poster_path,\r\n      backdrop_path,\r\n      release_date,\r\n      title,\r\n      vote_average,\r\n      vote_count,\r\n    } = movie;\r\n\r\n    console.log(\"vote_average\");\r\n    console.log(vote_average);\r\n    return (\r\n      <div>\r\n        {window.location.pathname === history.location.pathname ? (\r\n          <div className=\"film\">\r\n            <div\r\n              className=\"film-own\"\r\n              style={{\r\n                backgroundImage: `linear-gradient(\r\n            to right,\r\n            var(--BGC-backdropFilm-gradient),\r\n            var(--BGC-backdropFilm-gradient)\r\n          ),\r\n          url(${backdrop_path})`,\r\n                backgroundPosition: \"center\",\r\n                backgroundColor: \"var(--BGC-header)\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n              }}\r\n            >\r\n              <div className=\"film-own-intro\">\r\n                <div\r\n                  className=\"poster\"\r\n                  onMouseOver={() => this.setState({ hover_poster: true })}\r\n                  onMouseOut={() => this.setState({ hover_poster: false })}\r\n                  onClick={() => this.getTrailerLink(movie)}\r\n                >\r\n                  <img src={poster_path} alt={\"movie \" + title}></img>\r\n                  <div\r\n                    className=\"poster-turnonTrailer\"\r\n                    style={{ display: hover_poster ? \"block\" : \"none\" }}\r\n                  >\r\n                    <FaPlayCircle className=\"poster-turnonTrailer-icon\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"info\">\r\n                  <h2>{title}</h2>\r\n                  <p>\r\n                    Release date: <span>{release_date}</span>\r\n                  </p>\r\n                  <p>\r\n                    Genres:{\" \"}\r\n                    {genre_ids?.map((el, i) =>\r\n                      i + 1 < genre_ids.length ? (\r\n                        <span key={i}>{el.name},</span>\r\n                      ) : (\r\n                        <span key={i}>{el.name}.</span>\r\n                      )\r\n                    )}\r\n                  </p>\r\n                  <div className=\"info-feature\">\r\n                    <CircleProcessBar\r\n                      percent={vote_average * 10}\r\n                      stylecss={{ \"--width\": \"70px\", \"--height\": \"70px\" }}\r\n                    />\r\n                    <h3 className=\"info-feature-item\">User score</h3>\r\n                    <div className=\"info-feature-item\">\r\n                      <AiOutlineUnorderedList />\r\n                    </div>\r\n                    <div className=\"info-feature-item\">\r\n                      <MdFavorite />\r\n                    </div>\r\n                    <div className=\"info-feature-item\">\r\n                      <BsFillBookmarkFill />\r\n                    </div>\r\n                    <div className=\"info-feature-item\">\r\n                      <AiFillStar />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"info-overview\">\r\n                    <h2>Overview:</h2>\r\n                    <p>{overview}</p>\r\n                  </div>\r\n                  <p>\r\n                    Popularity: <span>{popularity}</span>{\" \"}\r\n                  </p>\r\n                </div>\r\n                {turnOn_trailer ? (\r\n                  <div\r\n                    className=\"trailer noselect\"\r\n                    // style={{ display: turnOn_trailer ? \"block\" : \"none\" }}\r\n                  >\r\n                    {trailer_link ? (\r\n                      <div className=\"trailer-videos\">\r\n                        <div className=\"trailer-videos-head\">\r\n                          <h2>Play Trailer</h2>\r\n                          <div\r\n                            className=\"trailer-videos-close\"\r\n                            onClick={() =>\r\n                              this.setState({ turnOn_trailer: false })\r\n                            }\r\n                          >\r\n                            <AiOutlineClose />\r\n                          </div>\r\n                        </div>\r\n                        <iframe\r\n                          src={trailer_link}\r\n                          frameBorder=\"0\"\r\n                          allow=\"autoplay; encrypted-media\"\r\n                          allowFullScreen\r\n                          title=\"video\"\r\n                          // className=\"trailer-videos\"\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"trailer-videos\">\r\n                        <div\r\n                          className=\"trailer-videos-close\"\r\n                          onClick={() =>\r\n                            this.setState({ turnOn_trailer: false })\r\n                          }\r\n                        >\r\n                          <AiOutlineClose />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n            <h2 className=\"film-recommend-title\">Recommend Movie</h2>\r\n            <div className=\"film-recommend\">\r\n              {similar_movie.length > 0 ? (\r\n                <div>\r\n                  {similar_movie.map((el, i) => {\r\n                    let { id, poster_path, release_date, title, vote_average } =\r\n                      el;\r\n                    let arr_title = title?.split(\" \");\r\n                    let title_url = \"\";\r\n                    arr_title?.forEach(\r\n                      (e) => (title_url = title_url + \"-\" + e)\r\n                    );\r\n                    let part_link = id + title_url;\r\n                    // console.log(part_link);\r\n                    return (\r\n                      <div className=\"movieBannerH\" key={i}>\r\n                        <Link\r\n                          to={\"/webFilmClub/movie/\" + part_link}\r\n                          key={i}\r\n                          className=\"link-decoration\"\r\n                          onClick={() =>\r\n                            setTimeout(() => this.getAPIMovie(), 0)\r\n                          }\r\n                        >\r\n                          <div className=\"movieBannerH-image\">\r\n                            <img src={poster_path} alt={title} />\r\n                            <div className=\"wrap-circleProcessBar\">\r\n                              <CircleProcessBar percent={vote_average * 10} />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"movieBannerH-averRate\"></div>\r\n                          <div className=\"movieBannerH-title\">\r\n                            <h4>{title}</h4>\r\n                            <h5>{release_date}</h5>\r\n                          </div>\r\n                        </Link>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <div></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Loading />\r\n          </div>\r\n          // this.getAPIMovie()\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      genres: this.props.genres,\r\n      release_year: this.props.release_year,\r\n      movies: [],\r\n      movies_length: 0,\r\n      history: { location: {} },\r\n      ///////////////////////////\r\n      search_arr_props: [],\r\n      search_arr: [],\r\n      amount_displayFilm: 16,\r\n      filter: {\r\n        state: false,\r\n        genres: [],\r\n        release_year: 0,\r\n      },\r\n      wait: true,\r\n      sort: {\r\n        state: false,\r\n        active: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ history: this.props.history, movies: this.props.movies });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    let { movies } = props;\r\n    let { history, search_arr_props, search_arr, sort, filter } = state;\r\n\r\n    /////filter movies array\r\n    let arr_filter_keywords = props.history.location.search\r\n      .replace(\"?search=\", \"\")\r\n      .split(\"-\");\r\n    console.log(props.history.location.search);\r\n    console.log(history.location.search);\r\n    console.log(arr_filter_keywords);\r\n    let search_arr_temp = [];\r\n    arr_filter_keywords.forEach((el, i) => {\r\n      if (i === 0) {\r\n        search_arr_temp = movies.filter((el2) => el2.title.includes(el));\r\n      } else {\r\n        search_arr_temp = search_arr_temp.filter((el2) =>\r\n          el2.title.includes(el)\r\n        );\r\n      }\r\n    });\r\n    console.log(\"search_arr_temp\");\r\n    console.log(search_arr_temp);\r\n    console.log(props.movies.length);\r\n    console.log(state.movies_length);\r\n    let search_arr_test = [...search_arr_temp];\r\n    if (\r\n      (props.history.location.search !== history.location.search) |\r\n      (props.movies.length !== state.movies_length)\r\n    ) {\r\n      console.log(\"getDerivedStateFromProps\");\r\n      console.log(search_arr_test);\r\n      search_arr.length = 0;\r\n      sort.active = 0;\r\n      filter.genres.length = 0;\r\n      filter.release_year = 0;\r\n\r\n      return {\r\n        search_arr,\r\n        sort,\r\n        filter,\r\n        search_arr_props: search_arr_test,\r\n        history: props.history,\r\n        movies_length: props.movies.length,\r\n        amount_displayFilm: 16,\r\n      };\r\n    }\r\n    // return { wait: true };\r\n  }\r\n\r\n  builtFilmOfMovies = (arr) => {\r\n    let { wait, genres, amount_displayFilm } = this.state;\r\n    return (\r\n      <div>\r\n        {arr.slice(0, amount_displayFilm).map((el, i) => {\r\n          let {\r\n            poster_path,\r\n            overview,\r\n            popularity,\r\n            vote_average,\r\n            genre_ids,\r\n            title,\r\n            id,\r\n            backdrop_path,\r\n            release_date,\r\n          } = el;\r\n          let link_part =\r\n            \"/webFilmClub/movie/\" + id + \"-\" + title.replaceAll(\" \", \"-\");\r\n          // console.log(vote_average);\r\n          return (\r\n            <div\r\n              className=\"display-movies-film\"\r\n              // key={i}\r\n              style={{\r\n                backgroundImage: `linear-gradient(\r\n    to right,\r\n    var(--BGC-backdropFilm-gradient),\r\n    var(--BGC-backdropFilm-gradient)\r\n  ),\r\n  url(${backdrop_path})`,\r\n                backgroundPosition: \"center\",\r\n                backgroundColor: \"var(--BGC-header)\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n              }}\r\n            >\r\n              <div className=\"poster noselect\">\r\n                <Link to={link_part}>\r\n                  <img\r\n                    src={poster_path}\r\n                    alt={link_part}\r\n                    onLoad={() => this.setState({ wait: false })}\r\n                    style={{ display: !wait ? \"block\" : \"none\" }}\r\n                  />\r\n                  <div style={{ display: wait ? \"block\" : \"none\" }}>\r\n                    <Loading />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n              <div className=\"intro\">\r\n                <h3>{title}</h3>\r\n                <div>\r\n                  <span className=\"overview\">\r\n                    <h4>Overview: </h4>\r\n                    {overview}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span>\r\n                    <h4>Popularity: </h4>\r\n                    {popularity}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span>\r\n                    <h4>Rate: </h4>\r\n                    {vote_average}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"overview\">\r\n                    <h4>Genres: </h4>\r\n                    {genre_ids.map((el1) => genres[el1]).join(\",\")}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span>\r\n                    <h4>Year: </h4>\r\n                    {release_date}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"display-page\">\r\n          <button\r\n            onClick={() => {\r\n              amount_displayFilm += 16;\r\n              this.setState({ amount_displayFilm });\r\n            }}\r\n            style={{ opacity: amount_displayFilm < arr.length ? \"1\" : \"0\" }}\r\n          >\r\n            Load More....\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  builtFilterGenres = () => {\r\n    let arr = [];\r\n    let { genres, filter } = this.state;\r\n    for (let el in genres) {\r\n      arr[arr.length] = (\r\n        <div\r\n          onClick={(e) => {\r\n            let index = filter.genres.indexOf(el);\r\n            console.log(el);\r\n            index === -1\r\n              ? (filter.genres[filter.genres.length] = el)\r\n              : filter.genres.splice(index, 1);\r\n            console.log(\"filter.genres::::\");\r\n            console.log(filter.genres);\r\n            this.setState({ filter });\r\n            this.handleFilter(\"filter\");\r\n          }}\r\n          key={arr.length}\r\n          style={\r\n            filter.genres.includes(el)\r\n              ? { backgroundColor: \"black\", color: \"white\" }\r\n              : { backgroundColor: \"white\", color: \"black\" }\r\n          }\r\n          // onMouseOver={}\r\n          className=\"genres\"\r\n        >\r\n          {genres[el]}\r\n        </div>\r\n      );\r\n    }\r\n    return arr;\r\n  };\r\n\r\n  handleFilter = (kind, active) => {\r\n    // console.log(kind, active);\r\n    let { search_arr, search_arr_props, filter, genres } = this.state;\r\n    // console.log(search_arr);\r\n    if (kind === \"sort\") {\r\n      let { sort } = this.state;\r\n      switch (active) {\r\n        case sortValue[0]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n\r\n        case sortValue[1]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? 1 : -1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n\r\n        case sortValue[2]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.vote_average) > Number(b.vote_average) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n\r\n        case sortValue[3]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.vote_average) > Number(b.vote_average) ? 1 : -1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[4]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[5]:\r\n          search_arr = search_arr_props.sort((a, b) => {\r\n            let a_year = a.release_date.split(\"-\");\r\n            let b_year = b.release_date.split(\"-\");\r\n            if (Number(a_year[a_year.length]) > Number(b_year[b_year.length]))\r\n              return -1;\r\n            else return 1;\r\n          });\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[6]:\r\n          search_arr = search_arr_props.sort((a, b) => {\r\n            let a_year = a.release_date.split(\"-\");\r\n            let b_year = b.release_date.split(\"-\");\r\n            if (Number(a_year[a_year.length]) > Number(b_year[b_year.length]))\r\n              return 1;\r\n            else return -1;\r\n          });\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[7]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        default:\r\n          search_arr.length = 0;\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n      }\r\n    }\r\n\r\n    if (kind === \"filter\") {\r\n      search_arr = [...search_arr_props];\r\n      if (Number(filter.release_year) !== 0) {\r\n        search_arr = search_arr.filter((el) =>\r\n          el.release_date.includes(filter.release_year)\r\n        );\r\n      }\r\n      if (filter.genres.length > 0) {\r\n        console.log(\"filter genres\");\r\n        console.log(search_arr);\r\n        console.log(filter);\r\n        search_arr = search_arr.filter((el) => {\r\n          let check_genres = false;\r\n          // console.log(el.genre_ids);\r\n          el.genre_ids.forEach((el2, j) => {\r\n            console.log(el2);\r\n            if (filter.genres.includes(el2.toString())) {\r\n              console.log(\"object\");\r\n              check_genres = true;\r\n            }\r\n          });\r\n          if (check_genres) return true;\r\n          else return false;\r\n        });\r\n      }\r\n      console.log(search_arr);\r\n      this.setState({ search_arr });\r\n    }\r\n    // console.log(search_arr);\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      movies,\r\n      search_arr_props,\r\n      sort,\r\n      genres,\r\n      history,\r\n      wait,\r\n      search_arr,\r\n      filter,\r\n      release_year,\r\n      amount_displayFilm,\r\n    } = this.state;\r\n    console.log(amount_displayFilm);\r\n    console.log(release_year);\r\n    console.log(genres);\r\n    console.log(sort.active);\r\n    release_year = release_year.sort((el1, el2) => (el1 > el2 ? -1 : 1));\r\n    return (\r\n      <div>\r\n        <div className=\"search noselect\">\r\n          <div className=\"tool\">\r\n            <div className=\"tool-sort\">\r\n              <div\r\n                className=\"tool-sort-header\"\r\n                onClick={() =>\r\n                  // let {state}\r\n                  {\r\n                    sort.state = !sort.state;\r\n                    this.setState({ sort });\r\n                  }\r\n                }\r\n              >\r\n                <span>Sort</span>\r\n                <IoIosArrowDown\r\n                  style={{ display: sort.state ? \"none\" : \"inline-block\" }}\r\n                />\r\n                <IoIosArrowForward\r\n                  style={{ display: sort.state ? \"inline-block\" : \"none\" }}\r\n                />\r\n              </div>\r\n              <div\r\n                className=\"devide\"\r\n                style={{ display: sort.state ? \"block\" : \"none\" }}\r\n              ></div>\r\n              <div\r\n                className=\"tool-sort-content\"\r\n                style={{ display: sort.state ? \"block\" : \"none\" }}\r\n              >\r\n                <label>\r\n                  Sort results by\r\n                  <select\r\n                    value={sort.active}\r\n                    onChange={(e) => {\r\n                      sort.active = e.target.value;\r\n                      this.setState({ sort });\r\n                      this.handleFilter(\"sort\", e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value={0}>---Select----</option>\r\n                    {sortValue.map((e, i) => (\r\n                      <option value={e} key={i}>\r\n                        {e}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"tool-filter\">\r\n              <div\r\n                className=\"tool-filter-header\"\r\n                onClick={() => {\r\n                  filter.state = !filter.state;\r\n                  this.setState({ filter });\r\n                }}\r\n              >\r\n                <span>Filter</span>\r\n                <IoIosArrowDown\r\n                  style={{ display: filter.state ? \"none\" : \"inline-block\" }}\r\n                />\r\n                <IoIosArrowForward\r\n                  style={{ display: filter.state ? \"inline-block\" : \"none\" }}\r\n                />\r\n              </div>\r\n              <div\r\n                className=\"devide\"\r\n                style={{ display: filter.state ? \"block\" : \"none\" }}\r\n              ></div>\r\n              <div\r\n                className=\"tool-filter-content\"\r\n                style={{ display: filter.state ? \"block\" : \"none\" }}\r\n              >\r\n                <label>\r\n                  Release Year\r\n                  <select\r\n                    value={filter.release_year}\r\n                    onChange={(e) => {\r\n                      filter.release_year = e.target.value;\r\n                      this.setState({ filter });\r\n                      this.handleFilter(\"filter\", null);\r\n                    }}\r\n                  >\r\n                    <option value={0} label={\"Choose Year\"}></option>\r\n                    {release_year.map((el, i) => (\r\n                      <option value={el} label={el} key={i}></option>\r\n                    ))}\r\n                  </select>\r\n                </label>\r\n                <div\r\n                  className=\"devide\"\r\n                  style={{ display: filter.state ? \"block\" : \"none\" }}\r\n                ></div>\r\n                <label>Genres :{this.builtFilterGenres()}</label>\r\n                <button\r\n                  onClick={() => {\r\n                    search_arr.length = 0;\r\n                    sort.active = 0;\r\n                    filter.genres.length = 0;\r\n                    filter.release_year = 0;\r\n                    this.setState({ search_arr, sort, filter });\r\n                  }}\r\n                >\r\n                  Clear\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"display\">\r\n            <div className=\"display-page noselect\"></div>\r\n            <div className=\"display-movies\">\r\n              {search_arr.length === 0\r\n                ? this.builtFilmOfMovies(search_arr_props)\r\n                : this.builtFilmOfMovies(search_arr)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/////////////////////////////////////////////////colection page///////////////////////////////////////////\r\nexport class Collection extends Component {\r\n  render() {\r\n    return <div className=\"collection\"></div>;\r\n  }\r\n}\r\n\r\nexport class FAQ extends Component {\r\n  render() {\r\n    return <div className=\"FAQ\"></div>;\r\n  }\r\n}\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","import \"./App.css\";\nimport \"./reset.css\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n// import * as colectionIDs from \"./test.json\";\n// import ReactScrollWheelHandler from \"react-scroll-wheel-handler\";\n/////////////////////////////////////////////////import icon\nimport Logo from \"./../src/images/icon.png\";\n// import { FcFilmReel } from \"react-icons/fc\";\nimport { FiTrendingUp } from \"react-icons/fi\";\nimport {\n  // AiFillCaretDown,\n  // AiFillVideoCamera,\n  AiOutlineSearch,\n  AiOutlineClose,\n} from \"react-icons/ai\";\nimport { FaGithub, FaTwitter, FaLinkedin } from \"react-icons/fa\";\n// import { BsCollectionPlayFill } from \"react-icons/bs\";\n///////////////////////////////////////////////////import library function\nimport {\n  // BrowserRouter as Router,\n  Route,\n  Switch,\n  Link,\n  useParams,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport film_collection from \"./filmCollection.json\";\nimport { Home, Collection, FAQ, Movie, Film, Search } from \"./contentApp\";\nimport history from \"./history\";\nimport { Router } from \"react-router-dom\";\n\n// D:\\my work\\web dev\\javascript\\reactjs\\My_project\\offline\\WebPhimClub\\public\\icon_head.png\nconst kindOfLink = {\n  collection: \"Collection\",\n  movie: \"movie\",\n  trending: \"trending\",\n  popular: \"popular\",\n  upcoming: \"upcoming\",\n  toprated: \"toprated\",\n  base_img_link: \"https://image.tmdb.org/t/p/w500\", //w500\n  genres: \"genres\",\n};\nexport const concateString = (kind, id, time) => {\n  const api_key = \"d1ac13b85f1d54e58edbe4543ffee597\";\n  switch (kind) {\n    case kindOfLink.collection:\n      return ` https://api.themoviedb.org/3/collection/${id}?api_key=${api_key}&language=en-US`;\n    // break;\n    case kindOfLink.movie:\n      return ` https://api.themoviedb.org/3/movie/${id}?api_key=${api_key}&language=en-US`;\n    // break;\n    case kindOfLink.trending:\n      return `https://api.themoviedb.org/3/trending/all/${time}?api_key=${api_key}`;\n    case kindOfLink.popular:\n      return `https://api.themoviedb.org/3/movie/popular?api_key=${api_key}&language=en-US&page=1`;\n    case kindOfLink.upcoming:\n      return `https://api.themoviedb.org/3/movie/upcoming?api_key=${api_key}&language=en-US&page=1`;\n    case kindOfLink.toprated:\n      return `https://api.themoviedb.org/3/movie/top_rated?api_key=${api_key}&language=en-US&page=1`;\n    case kindOfLink.genres:\n      return `https://api.themoviedb.org/3/genre/movie/list?api_key=${api_key}&language=en-US`;\n    default:\n      break;\n  }\n};\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      trending: {\n        day: [],\n        week: [],\n      },\n      popular: [],\n      upcoming: [],\n      nowplaying: [],\n      toprated: [],\n      genres: {},\n      genre_ids: [],\n      release_year: [],\n      display_film: {},\n      search: [],\n    };\n  }\n  componentDidMount() {\n    film_collection.forEach((e) => {\n      // console.log(e.id);\n      this.getAPIMovieArr(kindOfLink.collection, e.id);\n    });\n    this.getAPIMovieArr(kindOfLink.trending, undefined, \"day\");\n    this.getAPIMovieArr(kindOfLink.trending, undefined, \"week\");\n    this.getAPIMovieArr(kindOfLink.popular);\n    this.getAPIMovieArr(kindOfLink.upcoming);\n    this.getAPIMovieArr(kindOfLink.toprated);\n    this.getAPIMovieArr(kindOfLink.genres);\n  }\n\n  getAPIMovieArr = async (kind, id, time) => {\n    let url = concateString(kind, id, time);\n    try {\n      const response = await fetch(url);\n      let datafet = await response.json();\n      // console.log(datafet);\n      switch (kind) {\n        case kindOfLink.collection:\n          {\n            let { movies, release_year } = this.state;\n            for (let film of datafet.parts) {\n              let {\n                id,\n                title,\n                original_title,\n                adult,\n                release_date,\n                poster_path,\n                backdrop_path,\n                overview,\n                vote_average,\n                vote_count,\n                original_language,\n                popularity,\n                genre_ids,\n              } = film;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              movies[movies.length] = {\n                id,\n                title,\n                original_title,\n                adult,\n                release_date,\n                poster_path,\n                backdrop_path,\n                overview,\n                vote_average,\n                vote_count,\n                original_language,\n                popularity,\n                genre_ids,\n              };\n              if (!release_year.includes(release_date.slice(0, 4)))\n                release_year[release_year.length] = release_date.slice(0, 4);\n              // console.log(release_date);\n              // console.log(release_date.slice(0, 4));\n            }\n            this.setState({ movies: movies, release_year: release_year });\n            // console.log(this.state.movie);\n          }\n          break;\n        case kindOfLink.trending:\n          {\n            // console.log(datafet.results);\n            let trending1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              trending1[trending1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n\n            // console.log(movies);\n            let { trending } = this.state;\n            if (time === \"day\") trending.day = trending1;\n            if (time === \"week\") trending.week = trending1;\n            this.setState({ trending, movies, release_year });\n            // console.log(trending1);\n            // console.log(this.state);\n            // console.log(url);\n          }\n          break;\n\n        case kindOfLink.popular:\n          {\n            // console.log(datafet);\n            let popular1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              // console.log(\n              //   overview,\n              //   vote_count,\n              //   media_type,\n              //   id,\n              //   poster_path,\n              //   genre_ids,\n              //   vote_average,\n              //   backdrop_path\n              // );\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n                console.log(movie);\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === undefined) {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              // console.log(movie);\n              popular1[popular1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n            // let { popular } = this.state;\n            // if (time === \"day\") popular.day = popular1;\n            // if (time === \"week\") popular.week = popular1;\n            this.setState({ popular: popular1, movies: movies, release_year });\n            // console.log(this.state.popular);\n          }\n          break;\n\n        case kindOfLink.upcoming:\n          {\n            // console.log(datafet);\n            let upcoming1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === undefined) {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              upcoming1[upcoming1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n            // let { popular } = this.state;\n            // if (time === \"day\") popular.day = popular1;\n            // if (time === \"week\") popular.week = popular1;\n            this.setState({\n              upcoming: upcoming1,\n              movies: movies,\n              release_year,\n            });\n            // console.log(this.state.upcoming);\n          }\n          break;\n\n        case kindOfLink.toprated:\n          {\n            // console.log(datafet);\n            let toprated1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === undefined) {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              toprated1[toprated1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n            this.setState({\n              toprated: toprated1,\n              movies: movies,\n              release_year,\n            });\n            // console.log(this.state.toprated);\n          }\n          break;\n\n        case kindOfLink.genres:\n          // console.log(datafet);\n          let { genres } = this.state;\n          datafet.genres.forEach((e, i) => {\n            genres[e.id] = e.name;\n          });\n          // console.log(\"genres\");\n          // console.log(movies);\n          this.setState({ genres: genres });\n          break;\n        default:\n          break;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleDisplayFilm = (film) => {\n    console.log(\"filmsdadasdada\");\n    this.setState({ display_film: film });\n  };\n\n  render() {\n    let {\n      upcoming,\n      popular,\n      trending,\n      genres,\n      movies,\n      release_year,\n      display_film,\n      search,\n    } = this.state;\n    // console.log(movies);\n    // console.log(genres);\n    return (\n      <div className=\"app\">\n        <Router history={history}>\n          <HeaderApp trending={trending} search={search} movies={movies} />\n          <div className=\"header-area\"></div>\n          <div>\n            <ContentApp\n              trending={trending}\n              popular={popular}\n              genres={genres}\n              upcoming={upcoming}\n              movies={movies}\n              release_year={release_year}\n              display_film={display_film}\n              handleDisplayFilm={(el) => this.handleDisplayFilm(el)}\n            />\n          </div>\n          <FooterApp />\n        </Router>\n      </div>\n    );\n  }\n}\n\nclass HeaderApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search_state: false,\n      search_state_check: false,\n      search_keyString: \"\",\n      trending: this.props.trending,\n      search_icon_suggest: {\n        wait: \"inline-block\",\n        display: \"none\",\n      },\n      header_bar: true,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"wheel\", this.handleWheelAnywhere, true);\n    window.addEventListener(\"scroll\", this.handleScrollTop, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"wheel\", this.handleWheelAnywhere, true);\n  }\n\n  handleWheelAnywhere = (e) => {\n    if (e.deltaY < 0) {\n      this.setState({\n        search_state_check: false,\n        header_bar: true,\n      });\n    } else if (e.deltaY > 0) {\n      this.setState({\n        search_state_check: false,\n        header_bar: false,\n      });\n    }\n  };\n\n  handleScrollTop = (e) => {\n    // console.log(\"handleScrollTop\");\n    // console.log(e);\n    // console.log(window.scrollY);\n\n    if (window.scrollY === 0) this.setState({ header_bar: true });\n  };\n\n  handleClickSearch = () => {\n    let { search_state } = this.state;\n    this.setState({\n      search_state: !this.state.search_state,\n      search_state_check: false,\n      search_icon_suggest: {\n        display: search_state ? \"inline-block\" : \"none\",\n        wait: search_state ? \"none\" : \"inline-block\",\n      },\n    });\n  };\n\n  headerSuggestAnimationEnd = () => {\n    this.setState({\n      search_state_check: true,\n      search_icon_suggest: {\n        wait: \"none\",\n        display: \"inline-block\",\n      },\n    });\n  };\n\n  updateSearchStateCheck = (x) => {\n    x\n      ? this.setState({\n          search_state_check: false,\n          search_icon_suggest: {\n            wait: \"inline-block\",\n            display: \"none\",\n          },\n        })\n      : this.setState({\n          search_state_check: false,\n          search_icon_suggest: {\n            wait: \"none\",\n            display: \"inline-block\",\n          },\n        });\n  };\n\n  turnOffSearchHeader = () => {\n    this.setState({ search_state: false });\n  };\n\n  render() {\n    let { search_icon_suggest, search_keyString, search_state_check } =\n      this.state;\n    let { display, wait } = this.state.search_icon_suggest;\n    let { search_state, header_bar, trending } = this.state;\n    // console.log(trending);\n    return (\n      <div className=\"header\" style={{ top: header_bar ? \"0\" : \"-60px\" }}>\n        <div className=\"header-bar\">\n          <div className=\"\">\n            <Link\n              to=\"/WebPhimClub/\"\n              name=\"home\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <img src={Logo} alt=\"logo web\" className=\"home\"></img>\n            </Link>\n            <Link\n              to=\"/WebPhimClub/movie\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <span className=\"header-bar-text noselect\">Movie</span>\n            </Link>\n            <Link\n              to=\"/WebPhimClub/collection\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <span className=\"header-bar-text noselect\">Collection</span>\n            </Link>\n            <Link\n              to=\"/WebPhimClub/FAQ\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <span className=\"header-bar-text noselect\">FAQ</span>\n            </Link>\n          </div>\n          <div>\n            {/* <Link to=\"/webFilmClub/search/1?search=as\"> */}\n            <button className=\"header-bar-signin noselect\">Sign In</button>\n            {/* </Link> */}\n            <button\n              className=\"header-bar-search\"\n              onClick={this.handleClickSearch}\n            >\n              {search_state ? (\n                <span\n                  className=\"header-bar-icon-back\"\n                  style={{ color: \"white\" }}\n                >\n                  X\n                </span>\n              ) : (\n                <AiOutlineSearch className=\"header-bar-icon-infront\" />\n              )}\n            </button>\n          </div>\n        </div>\n        <HeaderSearchResult\n          search_keyString={search_keyString}\n          search_state_check={search_state_check}\n          display={display}\n          search_icon_suggest={search_icon_suggest}\n          wait={wait}\n          search_state={search_state}\n          headerSuggestAnimationEnd={this.headerSuggestAnimationEnd}\n          trending={trending}\n          updateSearchStateCheck={this.updateSearchStateCheck}\n          search={this.props.search}\n          movies={this.props.movies}\n          close_SearchBoard={() => this.setState({ search_state: false })}\n        />\n      </div>\n    );\n  }\n}\n\nclass HeaderSearchResult extends Component {\n  state = {\n    search_state_check: 0,\n    trending: this.props.trending,\n    search: this.props.search,\n    searchArr_header: [],\n    movies: this.props.movies,\n    search_string: \"\",\n  };\n  componentDidMount() {\n    document.addEventListener(\"click\", this.handleClickOutside, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleClickOutside, true);\n  }\n\n  handleClickOutside = (e) => {\n    const domNode = ReactDOM.findDOMNode(this);\n\n    if (!domNode || !domNode.contains(e.target)) {\n      this.props.updateSearchStateCheck(false);\n    }\n  };\n\n  handleClickResetSearchResult = () => {\n    this.setState({ search_string: \"\" });\n    this.props.updateSearchStateCheck(true);\n  };\n\n  handleChangeSearchStr = (e) => {\n    let { movies, searchArr_header } = this.state;\n    let search_string = e.target.value;\n    // console.log(e.keyCode);\n    // if (e.keyCode === 27) {\n    //   search_string = \"\";\n    // }\n    let search_stringArr = search_string.split(\" \");\n    // console.log(search_string);\n    // console.log(search_stringArr.length);\n    searchArr_header.length = 0;\n    search_stringArr.forEach((el, i) => {\n      // console.log(el);\n      if (i === 0) {\n        movies.forEach((el1, i1) => {\n          if (el1.title.indexOf(el) >= 0)\n            searchArr_header[searchArr_header.length] = el1;\n        });\n        // console.log(\"searchArr_header1\");\n        // console.log(searchArr_header);\n      } else {\n        let temp_searchArr_header = [];\n        searchArr_header.forEach((el1, i1) => {\n          if (el1.title.indexOf(el) >= 0) {\n            temp_searchArr_header[temp_searchArr_header.length] = el1;\n          }\n          // else console.log(el1.title);\n        });\n        searchArr_header.length = 0;\n        searchArr_header = temp_searchArr_header;\n        // console.log(\"searchArr_header2\");\n        // console.log(searchArr_header);\n      }\n    });\n    // console.log(\"searchArr_header last:\");\n    // console.log(\"Gabriel's Inferno Part III\".indexOf(\"on\"));\n    this.setState({ searchArr_header, search_string });\n  };\n\n  // handleSubmitSearchHeader = () => {\n  //   let { search_string, searchArr_header } = this.state;\n  // };\n\n  render() {\n    let { trending, searchArr_header, search_string } = this.state;\n    // console.log(trending.day?.slice(0, 10));\n    // console.log(trending.week);\n    return (\n      <div>\n        {this.props.search_state ? (\n          <div className=\"header-search\">\n            <form\n              className=\"header-search-tool\"\n              onSubmit={(event) => {\n                const path = \"/webFilmClub/search/\";\n                let arr_search_string = search_string.split(\" \");\n                let convert_search_string = \"\";\n                arr_search_string.forEach((el, i) =>\n                  i === arr_search_string.length - 1\n                    ? (convert_search_string = convert_search_string + el)\n                    : (convert_search_string = convert_search_string + el + \"-\")\n                );\n                let path_searchSTR = \"1?search=\" + convert_search_string;\n                if (search_string !== \"\") history.push(path + path_searchSTR);\n                this.props.close_SearchBoard();\n                event.preventDefault();\n              }}\n            >\n              <AiOutlineSearch className=\"search-icon\" />\n              <input\n                className=\"header-search-tool-filled\"\n                placeholder=\"search for movie...\"\n                type=\"text\"\n                onChange={this.handleChangeSearchStr}\n                value={search_string}\n                autoFocus\n              ></input>\n              <div className=\"close-icon\">\n                <span\n                  className=\"close-icon-wait\"\n                  style={{ display: this.props.wait }}\n                  onAnimationEnd={this.props.headerSuggestAnimationEnd}\n                ></span>\n                <AiOutlineClose\n                  className=\"close-icon-display\"\n                  style={{ display: this.props.display }}\n                  onClick={this.handleClickResetSearchResult}\n                />\n              </div>\n            </form>\n            <div className=\"header-search-result\">\n              {search_string === \"\" ? (\n                <div\n                  style={{\n                    display: this.props.search_state_check ? \"block\" : \"none\",\n                  }}\n                >\n                  <div className=\"header-search-result-trending\">\n                    <FiTrendingUp className=\"trending-icon\" />\n                    <span className=\"trending-text\">Trending</span>\n                  </div>\n                  {trending.day?.slice(0, 10).map((x, i) => {\n                    let { id, title } = x;\n                    let titleArr = title.split(\" \");\n                    let title_str = \"\";\n                    titleArr.forEach((el) => (title_str += \"-\" + el));\n                    let link_part = \"/webFilmClub/movie/\" + id + title_str;\n                    return (\n                      <Link\n                        to={link_part}\n                        className=\"link-decoration\"\n                        onClick={this.props.close_SearchBoard}\n                        key={i}\n                      >\n                        <div className=\"header-search-result-items link-decoration\">\n                          <AiOutlineSearch className=\"icon\" />\n                          <span className=\"text\">{title}</span>\n                        </div>\n                      </Link>\n                    );\n                  })}\n                </div>\n              ) : (\n                <div\n                  style={{\n                    display: this.props.search_state_check ? \"block\" : \"none\",\n                  }}\n                >\n                  {/* <div className=\"header-search-result-trending\">\n                    <FiTrendingUp className=\"trending-icon\" />\n                    <span className=\"trending-text\">Trending</span>\n                  </div> */}\n                  {searchArr_header?.slice(0, 10).map((x, i) => {\n                    let { id, title } = x;\n                    let titleArr = title.split(\" \");\n                    let title_str = \"\";\n                    titleArr.forEach((el) => (title_str += \"-\" + el));\n                    let link_part = \"/webFilmClub/movie/\" + id + title_str;\n                    return (\n                      <Link\n                        to={link_part}\n                        className=\"link-decoration\"\n                        onClick={this.props.close_SearchBoard}\n                        key={i}\n                      >\n                        <div className=\"header-search-result-items link-decoration\">\n                          <AiOutlineSearch className=\"icon\" />\n                          <span className=\"text\">{title}</span>\n                        </div>\n                      </Link>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div></div>\n        )}\n      </div>\n    );\n  }\n}\n\n//////////////////////////////////////////ContentApp///////////////////////////////////////////////////\nclass ContentApp extends Component {\n  render() {\n    // console.log(this.props.location);\n    let { display_film } = this.props;\n    return (\n      <div className=\"contentApp\">\n        <Switch>\n          <Route\n            exact\n            path=\"/WebPhimClub/\"\n            render={(props) => {\n              return (\n                <Home\n                  popular={this.props.popular}\n                  trending={this.props.trending}\n                  history={props.history}\n                />\n              );\n            }}\n          />\n          {/* <Home popular={this.props.popular} trending={this.props.trending} />\n          </Route> */}\n          <Route\n            exact\n            path=\"/WebPhimClub/movie\"\n            render={(props) => {\n              // console.log(props);\n              return (\n                <Movie\n                  location={props.location}\n                  history={props.history}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                  release_year={this.props.release_year}\n                  handleDisplayFilm={(el) => this.props.handleDisplayFilm(el)}\n                />\n              );\n            }}\n          />\n\n          <Route\n            path=\"/webFilmClub/movie/:slug\"\n            render={(props) => {\n              // console.log(props);\n              return (\n                <Film\n                  history={props}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                />\n              );\n            }}\n          />\n\n          <Route\n            path=\"/webFilmClub/search/:slug\"\n            render={(props) => {\n              console.log(\"/webFilmClub/search/:slug\");\n              return (\n                <Search\n                  history={props}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                  release_year={this.props.release_year}\n                />\n              );\n            }}\n          />\n\n          {/* {display_film ? (\n            () => {\n              let path_temp =\n                display_film.id + \"-\" + display_film.title.replace(\" \", \"-\");\n              console.log(path_temp);\n              return (\n                <Route\n                  path={\"/WebPhimClub/movie\" + path_temp}\n                  render={(props) => {\n                    // console.log(props);\n                    return <Film display_film={display_film} />;\n                  }}\n                />\n              );\n            }\n          ) : (\n            <div></div>\n          )} */}\n          <Route path=\"/WebPhimClub/collection\">\n            <Collection />\n          </Route>\n          <Route path=\"/WebPhimClub/FAQ\">\n            <FAQ />\n          </Route>\n        </Switch>\n      </div>\n    );\n  }\n}\n\n////////////////////////////////////footer///////////////////////////////////////////////////////\nconst FooterApp = () => {\n  return (\n    <div className=\"footer\">\n      <div className=\"text\">\n        <h4>My Film CLub</h4>\n      </div>\n      <div className=\"icon\">\n        {/* <IconContext.Provider value={{ backgroungColor: \"#61dbfb\" }}> */}\n        <FaGithub className=\"react-icons\" />\n        <FaTwitter className=\"react-icons\" />\n        <FaLinkedin className=\"react-icons\" />\n        {/* </IconContext.Provider> */}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\n// import { BrowserRouter as Router,Route,Link,Switch, } from 'react-router-dom'\n// import Redirect from \"./test/router/redirect/redirect\";\nimport App from \"./App.js\";\n// import { Router } from \"react-router-dom\";\n// import history from \"./history\";\n\nReactDom.render(\n  //   <Router history={history}>\n  <App />,\n  //   </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}