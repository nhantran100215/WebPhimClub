{"version":3,"sources":["images/icon.png","images/250577775_1336573440093459_1633910632867587638_n.jpg","lib/tool/tool.js","contentApp.js","history.js","App.js","index.js"],"names":["CircleProcessBar","percent","this","props","rotate","left","right","border_color","className","style","stylecss","transform","Component","Loading","sortValue","Home","handleResize","console","log","today1","setState","width_trendingHeaderToday","clientWidth","width_trendingHeaderWeek","thisWeek1","handleToggleTrendind","x","trendingDay","state","search_str","history","window","addEventListener","addCollection","login","trending","week","day","Today","Week","onSubmit","event","arr_search_str","split","convert_search_str","forEach","el","i","length","path_searchSTR","push","preventDefault","type","placeholder","onChange","e","target","value","popular","map","id","poster_path","vote_average","title","release_date","part_link","replace","to","src","alt","onClick","controlLogin","margin","ref","color","width","Movie","handleWindowResize","innerWidth","display_page","display_first_page","display_last_page","Math","floor","amount_displayPage","handlePageTransition","form","num","amount_page_movies","amount_page_search","check_search","display_fontpage","value_page_goto","amount_page","Number","location","search","pathname","handleChangeInputGoto","calc_firstLastPage","numpage","handleClickFilterButton","sort","filter","amount_movie_page","movies","sort_result","a","b","popularity","year","includes","genres","genre_ids","remainder","builtRowsPage","rows","backgroundColor","createGenresMovie","genres_arr","indexofelement","indexOf","splice","release_year","keywords","genres_search","search_movie_disabled","sort_open","filter_open","varia","check_page","findIndex","display_page_movie","slice","display","disabled","fontSize","min","max","y","Film","pressKey","keyCode","turnOn_trailer","getSimilarMovies","str","match","params","slug","url","api_key","url_movie","fetch","response","json","datafet","similar_movie","results","backdrop_path","overview","vote_count","round","movie","getTrailerLink","film","trailer_link","key","error","getAPIMovie","scrollTo","updateHistory_finish","hover_poster","document","media_type","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","onMouseOver","onMouseOut","name","frameBorder","allow","allowFullScreen","arr_title","title_url","setTimeout","Search","builtFilmOfMovies","arr","wait","amount_displayFilm","link_part","replaceAll","onLoad","el1","join","opacity","builtFilterGenres","index","handleFilter","kind","active","search_arr","search_arr_props","a_year","b_year","check_genres","el2","j","toString","movies_length","label","arr_filter_keywords","search_arr_temp","search_arr_test","Collection","navHome","removeCollection","collection","FAQ","createBrowserHistory","kindOfLink","concateString","time","App","getAPIMovieArr","parts","original_title","adult","original_language","trending1","original_name","first_air_date","check_movie_again","unshift","popular1","undefined","upcoming1","upcoming","toprated1","toprated","handleDisplayFilm","display_film","control_login","movie_add","accessAccount","user","pass","constVari","password","username","countlogin","login_timecounter","id_interval","setInterval","clearInterval","resetLogInCounter","switchPassVisible","passvisible","handleLogout","nowplaying","timeban","film_collection","resetloginCounter","resetLoginCounter","HeaderApp","handleWheelAnywhere","deltaY","search_state_check","header_bar","handleScrollTop","scrollY","handleClickSearch","search_state","search_icon_suggest","headerSuggestAnimationEnd","handleClickAnywhere","invisetting","contains","invisetting_state","updateSearchStateCheck","turnOffSearchHeader","search_keyString","removeEventListener","top","height","Logo","avatar","alert","close_SearchBoard","HeaderSearchResult","searchArr_header","search_string","handleClickOutside","domNode","ReactDOM","findDOMNode","handleClickResetSearchResult","handleChangeSearchStr","search_stringArr","i1","temp_searchArr_header","arr_search_string","convert_search_string","autoFocus","onAnimationEnd","titleArr","title_str","ContentApp","exact","path","render","FooterApp","ReactDom","getElementById"],"mappings":"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","file":"static/js/main.7cb382d9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon.d4773499.png\";","export default __webpack_public_path__ + \"static/media/250577775_1336573440093459_1633910632867587638_n.5cf38459.jpg\";","import \"./tool.css\";\r\nimport { useState, useEffect, Component } from \"react\";\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nexport function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n\r\nexport class CircleProcessBar extends Component {\r\n  render() {\r\n    let { percent } = this.props;\r\n    let rotate = { left: \"\", right: \"\" };\r\n    if (percent < 50) rotate.right = `rotate(${(percent * 180) / 50}deg)`;\r\n    else {\r\n      rotate.right = `rotate(180deg)`;\r\n      rotate.left = `rotate(${((percent - 50) * 180) / 50}deg)`;\r\n    }\r\n    let border_color =\r\n      percent < 34 ? \"red\" : percent < 67 ? \"yellow\" : \"#20bd6f\";\r\n    return (\r\n      <div className=\"circleProgressBar\" style={this.props.stylecss}>\r\n        <div className=\"circleProgressBar-outside\">\r\n          <div className=\"circleProgressBar-outside-right\">\r\n            <div\r\n              className=\"circleProgressBar-outside-right-run \"\r\n              style={{\r\n                transform: rotate.right,\r\n                \"--border-color\": border_color,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"circleProgressBar-outside-left\">\r\n            <div\r\n              className=\"circleProgressBar-outside-left-run\"\r\n              style={{ transform: rotate.left, \"--border-color\": border_color }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"circleProgressBar-inner\">{this.props.percent}%</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"loading\">\r\n          <div className=\"loading-inner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Link,\r\n  NavLink,\r\n  useLocation,\r\n  useParams,\r\n  // browserHistory,\r\n} from \"react-router-dom\";\r\nimport { CircleProcessBar, Loading } from \"./lib/tool/tool\";\r\nimport { GiNextButton } from \"react-icons/gi\";\r\nimport { FaPlayCircle } from \"react-icons/fa\";\r\nimport {\r\n  AiOutlineUnorderedList,\r\n  AiFillStar,\r\n  AiOutlineClose,\r\n  AiOutlineSearch,\r\n  AiOutlinePlus,\r\n} from \"react-icons/ai\";\r\nimport { MdFavorite } from \"react-icons/md\";\r\nimport { BsFillBookmarkFill } from \"react-icons/bs\";\r\nimport { IoIosArrowDown, IoIosArrowForward } from \"react-icons/io\";\r\nimport { act } from \"react-dom/test-utils\";\r\n// import { browserHistory } from \"react-router\";\r\n\r\nconst sortValue = [\r\n  \"Popularity Descending\",\r\n  \"Popularity Ascending\",\r\n  \"Rating Descending\",\r\n  \"Rating Ascending\",\r\n  \"Release Year Descending\",\r\n  \"Release Year Ascending\",\r\n  \"Title(A-Z)\",\r\n  \"Title(z-A)\",\r\n];\r\n\r\nexport class Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      trendingDay: false,\r\n      width_trendingHeaderToday: 62,\r\n      width_trendingHeaderWeek: 112,\r\n      search_str: \"\",\r\n      history: this.props.history,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    ////////////////get resize of element///////////////////////////////////////////////////\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  handleResize = () => {\r\n    console.log(\"handleResize\");\r\n    if (this.today1) {\r\n      // console.log(this.today1.clientWidth);\r\n      // console.log(this.thisWeek1.clientWidth);\r\n      this.setState({\r\n        width_trendingHeaderToday: this.today1.clientWidth,\r\n        width_trendingHeaderWeek: this.thisWeek1.clientWidth,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleToggleTrendind = (x) => {\r\n    this.setState({ trendingDay: x });\r\n  };\r\n  render() {\r\n    // console.log(this.props.popular);\r\n    // console.log(\"poster_path\");\r\n    // console.log(this.props.trending);\r\n    // console.log(this.today.current);\r\n    // console.log(this.thisWeek.current);\r\n    let { trendingDay, search_str, history } = this.state;\r\n    let { addCollection, login } = this.props;\r\n    let trending = [];\r\n    trendingDay\r\n      ? (trending = this.props.trending.week)\r\n      : (trending = this.props.trending.day);\r\n    let Today = this.state.width_trendingHeaderToday + \"px\";\r\n    let Week = this.state.width_trendingHeaderWeek + \"px\";\r\n    return (\r\n      <div className=\"home noselect\">\r\n        <div className=\"home-backdrop\">\r\n          <div className=\"home-backdrop-header\">\r\n            <h1>Welcome My Page</h1>\r\n            <h2>Thoudsands of movies to discover. Explore now.</h2>\r\n          </div>\r\n          <form\r\n            className=\"home-backdrop-search\"\r\n            onSubmit={(event) => {\r\n              const path = \"/webFilmClub/search/\";\r\n              let arr_search_str = search_str.split(\" \");\r\n              let convert_search_str = \"\";\r\n              arr_search_str.forEach((el, i) =>\r\n                i === arr_search_str.length - 1\r\n                  ? (convert_search_str = convert_search_str + el)\r\n                  : (convert_search_str = convert_search_str + el + \"-\")\r\n              );\r\n              let path_searchSTR = \"1?search=\" + convert_search_str;\r\n              if (search_str !== \"\") history.push(path + path_searchSTR);\r\n              // this.props.close_SearchBoard();\r\n              event.preventDefault();\r\n            }}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search for movie...\"\r\n              onChange={(e) => this.setState({ search_str: e.target.value })}\r\n            ></input>\r\n            <button>Search</button>\r\n          </form>\r\n        </div>\r\n        <div className=\"home-popular\">\r\n          <h2> Top 20 popular movies</h2>\r\n          <div className=\"home-popular-display\">\r\n            {this.props.popular.map((e, i) => {\r\n              let { id, poster_path, vote_average, title, release_date } = e;\r\n              let part_link = id + \"-\" + title.replace(/\\s/g, \"-\");\r\n              // console.log(part_link);\r\n              return (\r\n                <div className=\"movieBannerH\" key={i}>\r\n                  <Link\r\n                    to={\"/webFilmClub/movie/\" + part_link}\r\n                    key={i}\r\n                    className=\"link-decoration\"\r\n                  >\r\n                    <div className=\"movieBannerH-image\">\r\n                      <img src={poster_path} alt={title} />\r\n                      <div className=\"wrap-circleProcessBar\">\r\n                        <CircleProcessBar percent={vote_average * 10} />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"movieBannerH-averRate\"></div>\r\n                    <div className=\"movieBannerH-title\">\r\n                      <h4>{title}</h4>\r\n                      <h5>{release_date}</h5>\r\n                    </div>\r\n                  </Link>\r\n                  <div\r\n                    // style={{ display: wait ? \"block\" : \"none\" }}\r\n                    className=\"movieBannerH-add\"\r\n                    // onClick={(el) => removeCollection(el)}\r\n                    onClick={() => {\r\n                      console.log(\"intro\");\r\n                      login ? addCollection(e) : this.props.controlLogin(true);\r\n                    }}\r\n                  >\r\n                    <AiOutlinePlus />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"home-trending\">\r\n          <div className=\"home-popular\" style={{ margin: \"20px\" }}>\r\n            <div className=\"home-popular-header\">\r\n              <h2> Top 20 trending movies</h2>\r\n              <div className=\"home-popular-header-toggle noselect\">\r\n                <div\r\n                  ref={(today1) => (this.today1 = today1)}\r\n                  // ref={(el) => this.handleResizeToday(el)}\r\n                  className=\"bythetime\"\r\n                  onClick={() => this.handleToggleTrendind(false)}\r\n                  style={trendingDay ? { color: \"black\" } : { color: \"white\" }}\r\n                >\r\n                  Today\r\n                </div>\r\n                <div\r\n                  ref={(thisWeek1) => (this.thisWeek1 = thisWeek1)}\r\n                  // ref={(el) => this.handleResizeWeek(el)}\r\n                  className=\"bythetime\"\r\n                  onClick={() => this.handleToggleTrendind(true)}\r\n                  style={trendingDay ? { color: \"white\" } : { color: \"black\" }}\r\n                >\r\n                  This Week\r\n                </div>\r\n                <div\r\n                  className=\"cover\"\r\n                  style={\r\n                    trendingDay\r\n                      ? { left: Today, width: Week }\r\n                      : { left: 0, width: Today }\r\n                  }\r\n                ></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"home-popular-display\">\r\n              {trending.map((e, i) => {\r\n                let { id, poster_path, vote_average, title, release_date } = e;\r\n                let part_link = id + \"-\" + title.replace(/\\s/g, \"-\");\r\n                // console.log(part_link);\r\n                return (\r\n                  <div className=\"movieBannerH\" key={i}>\r\n                    <Link\r\n                      to={\"/webFilmClub/movie/\" + part_link}\r\n                      key={i}\r\n                      className=\"link-decoration\"\r\n                    >\r\n                      <div className=\"movieBannerH-image\">\r\n                        <img src={poster_path} alt={title} />\r\n                        <div className=\"wrap-circleProcessBar\">\r\n                          <CircleProcessBar percent={vote_average * 10} />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"movieBannerH-averRate\"></div>\r\n                      <div className=\"movieBannerH-title\">\r\n                        <h4>{title}</h4>\r\n                        <h5>{release_date}</h5>\r\n                      </div>\r\n                    </Link>\r\n                    <div\r\n                      // style={{ display: wait ? \"block\" : \"none\" }}\r\n                      className=\"movieBannerH-add\"\r\n                      // onClick={(el) => removeCollection(el)}\r\n                      onClick={() => {\r\n                        console.log(\"intro\");\r\n                        login\r\n                          ? addCollection(e)\r\n                          : this.props.controlLogin(true);\r\n                      }}\r\n                    >\r\n                      <AiOutlinePlus />\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n//////////////////////////movie page/////////////////////////////////////////////////////////////////////\r\nexport class Movie extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ////////variable of parent\r\n      movies: this.props.movies,\r\n      amount_page_movies: 0,\r\n      genres: this.props.genres,\r\n      release_year: this.props.release_year,\r\n      history: this.props.history,\r\n      location: this.props.location,\r\n      /////////variable of child\r\n      search: [],\r\n      amount_page_search: 0,\r\n      check_search: false,\r\n      amount_displayPage: 8,\r\n      amount_movie_page: 24,\r\n      keywords: \"\",\r\n      genres_search: [],\r\n      display_first_page: 1,\r\n      display_last_page: 1,\r\n      display_page: 1,\r\n      value_page_goto: null,\r\n      search_movie_disabled: false,\r\n      sort: {\r\n        sort_open: false,\r\n        sort_result: \"\",\r\n      },\r\n      filter: {\r\n        filter_open: false,\r\n        year: -1,\r\n        genres: [],\r\n      },\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    // let { search } = nextprops;\r\n    let { release_year, movies } = props;\r\n    let { amount_movie_page, amount_displayPage, display_page } = state;\r\n    let amount_page_movies =\r\n      Math.floor(movies.length / amount_movie_page) +\r\n      (movies.length / amount_movie_page >\r\n      Math.floor(movies.length / amount_movie_page)\r\n        ? 1\r\n        : 0);\r\n    release_year = release_year.sort((x, y) => Number(y) - Number(x));\r\n    if (amount_page_movies !== state.amount_page_movies) {\r\n      return {\r\n        amount_page_movies: amount_page_movies,\r\n        release_year: release_year,\r\n        // search: movies,\r\n        // display_first_page: 1,\r\n        // display_last_page: amount_displayPage,\r\n      };\r\n    }\r\n\r\n    let { search } = window.location;\r\n    if (search) {\r\n      // search=search.replace(\"?\",\"\");\r\n      let varia = search.split(/[?=&]/);\r\n      console.log(varia);\r\n      let check_page = varia.findIndex((el) => el === \"page\");\r\n      console.log(Number(varia[check_page + 1]));\r\n      // let { display_first_page, display_last_page } =\r\n      // this.calc_firstLastPage(Number(varia[check_page + 1]));\r\n      if (check_page !== -1 && display_page !== Number(varia[check_page + 1]))\r\n        return {\r\n          display_page: Number(varia[check_page + 1]),\r\n          // display_first_page: display_first_page,\r\n          // display_last_page: display_last_page,\r\n        };\r\n    } else return { display_page: 1 };\r\n\r\n    return null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { search } = window.location;\r\n    let { display_first_page, display_last_page, display_page } = this.state;\r\n    // console.log(\"search\");\r\n    window.addEventListener(\"resize\", this.handleWindowResize);\r\n    this.handleWindowResize();\r\n    if (search) {\r\n      // search=search.replace(\"?\",\"\");\r\n      let varia = search.split(/[?=&]/);\r\n      console.log(varia);\r\n      let check_page = varia.findIndex((el) => el === \"page\");\r\n      console.log(Number(varia[check_page + 1]));\r\n      if (check_page !== -1 && display_page !== Number(varia[check_page + 1]))\r\n        this.setState({ display_page: Number(varia[check_page + 1]) });\r\n    } else this.setState({ display_page: 1 });\r\n    if (\r\n      (display_first_page > display_page) |\r\n      (display_last_page < display_page)\r\n    )\r\n      this.handlePageTransition(\"pageclick\", display_page, null);\r\n    ////////////////get resize of element///////////////////////////////////////////////////\r\n  }\r\n\r\n  handleWindowResize = () => {\r\n    console.log(\"window.innerHeight\");\r\n    console.log(window.innerWidth);\r\n    let { display_page, display_first_page, display_last_page } = this.state;\r\n\r\n    if (550 < window.innerWidth < 740) {\r\n      let amount_displayPage = 5;\r\n      display_first_page =\r\n        display_page > Math.floor(amount_displayPage / 2)\r\n          ? display_page - Math.floor(amount_displayPage / 2)\r\n          : 1;\r\n      display_last_page = amount_displayPage + display_first_page - 1;\r\n      this.setState({\r\n        amount_displayPage: amount_displayPage,\r\n        display_last_page,\r\n        display_first_page,\r\n      });\r\n    }\r\n\r\n    // if (window.innerWidth <= 550) {\r\n    //   let amount_displayPage = 3;\r\n    //   display_first_page =\r\n    //     display_page > Math.floor(amount_displayPage / 2)\r\n    //       ? display_page - Math.floor(amount_displayPage / 2)\r\n    //       : 1;\r\n    //   display_last_page = amount_displayPage + display_first_page - 1;\r\n    //   this.setState({\r\n    //     amount_displayPage: amount_displayPage,\r\n    //     display_last_page,\r\n    //     display_first_page,\r\n    //   });\r\n    // }\r\n\r\n    if (window.innerWidth >= 740) {\r\n      let amount_displayPage = 8;\r\n      display_first_page =\r\n        display_page > Math.floor(amount_displayPage / 2)\r\n          ? display_page - Math.floor(amount_displayPage / 2)\r\n          : 1;\r\n      display_last_page = amount_displayPage + display_first_page - 1;\r\n      this.setState({\r\n        amount_displayPage: amount_displayPage,\r\n        display_last_page,\r\n        display_first_page,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    // super.componentWillUnmount();\r\n    // // Unbind listener\r\n    // this.backListener();\r\n  }\r\n\r\n  handlePageTransition = (form, num, event) => {\r\n    let {\r\n      display_first_page,\r\n      display_last_page,\r\n      amount_page_movies,\r\n      amount_page_search,\r\n      check_search,\r\n      amount_displayPage,\r\n      display_page,\r\n      value_page_goto,\r\n    } = this.state;\r\n    let display_fontpage = 1;\r\n    let amount_page = check_search ? amount_page_search : amount_page_movies;\r\n\r\n    // console.log(num);\r\n\r\n    if (form === \"nextpage\") {\r\n      if (display_page < amount_page) num = display_page + 1;\r\n      else num = amount_page;\r\n    }\r\n\r\n    // console.log(num);\r\n\r\n    if (form === \"gotopage\") {\r\n      num = Number(this.state.value_page_goto);\r\n      console.log(\"num\");\r\n      // console.log(num);\r\n    }\r\n    // console.log(num);\r\n\r\n    if (num <= display_first_page) {\r\n      if (num - Math.floor(amount_displayPage / 2) > 0)\r\n        display_first_page = num - Math.floor(amount_displayPage / 2);\r\n      else {\r\n        display_first_page = 1;\r\n      }\r\n      display_fontpage = 1 + num - display_first_page;\r\n      if (num + amount_displayPage - display_fontpage <= amount_page)\r\n        display_last_page = num + amount_displayPage - display_fontpage;\r\n      else {\r\n        display_last_page = amount_page;\r\n      }\r\n    }\r\n    if (num >= display_last_page) {\r\n      // console.log(num + Math.floor(amount_displayPage / 2));\r\n      if (num + Math.floor(amount_displayPage / 2) <= amount_page) {\r\n        display_last_page = num + Math.floor(amount_displayPage / 2);\r\n        console.log(display_last_page);\r\n      } else {\r\n        display_last_page = amount_page;\r\n      }\r\n      display_fontpage = display_last_page - num + 1;\r\n      // console.log(\"display_fontpage\");\r\n      // console.log(display_fontpage);\r\n      if (num - amount_displayPage + display_fontpage > 0)\r\n        display_first_page = num - amount_displayPage + display_fontpage;\r\n      else {\r\n        display_first_page = 1;\r\n      }\r\n    }\r\n    // console.log(display_first_page, display_last_page, num);\r\n    // console.log(num);\r\n\r\n    //////////////////////get history//////////////////////////////////////////////////////\r\n    let { history } = this.state;\r\n    switch (form) {\r\n      case \"clickpage\":\r\n        if (history.location.search) {\r\n          // let index = history.location.search.search(\"page\");\r\n          num !== 1\r\n            ? (history.location.search = history.location.search.replace(\r\n                /page=[0-9]+$/,\r\n                \"page=\" + num\r\n              ))\r\n            : (history.location.search = \"\");\r\n        } else {\r\n          history.location.search = \"?page=\" + num;\r\n        }\r\n        this.props.history.push({\r\n          pathname: history.location.pathname,\r\n          search: history.location.search,\r\n          state: {},\r\n        });\r\n        this.setState({\r\n          display_page: num,\r\n          display_first_page: display_first_page,\r\n          display_last_page: display_last_page,\r\n        });\r\n        break;\r\n\r\n      case \"nextpage\":\r\n        if (history.location.search) {\r\n          // let index = history.location.search.search(\"page\");\r\n          num !== 1\r\n            ? (history.location.search = history.location.search.replace(\r\n                /page=[0-9]+$/,\r\n                \"page=\" + num\r\n              ))\r\n            : (history.location.search = \"\");\r\n        } else {\r\n          history.location.search = \"?page=\" + num;\r\n        }\r\n        this.props.history.push({\r\n          pathname: history.location.pathname,\r\n          search: history.location.search,\r\n          state: {},\r\n        });\r\n        this.setState({\r\n          display_page: num,\r\n          display_first_page,\r\n          display_last_page,\r\n        });\r\n        break;\r\n\r\n      case \"gotopage\":\r\n        if (history.location.search) {\r\n          // let index = history.location.search.search(\"page\");\r\n          num !== 1\r\n            ? (history.location.search = history.location.search.replace(\r\n                /page=[0-9]+$/,\r\n                \"page=\" + num\r\n              ))\r\n            : (history.location.search = \"\");\r\n        } else {\r\n          history.location.search = \"?page=\" + num;\r\n        }\r\n        this.props.history.push({\r\n          pathname: history.location.pathname,\r\n          search: history.location.search,\r\n          state: {},\r\n        });\r\n        this.setState({\r\n          display_page: num,\r\n          display_first_page,\r\n          display_last_page,\r\n          // value_page_goto: null,\r\n        });\r\n        event.preventDefault();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  handleChangeInputGoto = (event) => {\r\n    this.setState({ value_page_goto: event.target.value.replace(/\\D/, \"\") });\r\n  };\r\n\r\n  calc_firstLastPage = (numpage) => {\r\n    let { amount_page, amount_displayPage } = this.state;\r\n    let display_first_page = 0,\r\n      display_last_page = 0;\r\n    if (numpage < Math.floor(amount_displayPage / 2)) {\r\n      display_first_page = 1;\r\n      display_last_page = amount_displayPage;\r\n    } else if (numpage > amount_page - Math.floor(amount_displayPage / 2)) {\r\n      display_last_page = amount_page;\r\n      display_first_page = amount_page - amount_displayPage + 1;\r\n    } else {\r\n      display_first_page = numpage - Math.floor(amount_displayPage / 2) + 1;\r\n      display_last_page = display_first_page + amount_displayPage - 1;\r\n    }\r\n    console.log(display_first_page, display_last_page);\r\n    return { display_first_page, display_last_page };\r\n  };\r\n\r\n  handleClickFilterButton = () => {\r\n    let {\r\n      search,\r\n      sort,\r\n      filter,\r\n      amount_page,\r\n      amount_movie_page,\r\n      movies,\r\n      display_last_page,\r\n      display_page,\r\n      amount_displayPage,\r\n    } = this.state;\r\n    console.log(sort, filter, search, amount_page, movies);\r\n    //////sort by.///////////////\r\n    search = movies;\r\n    switch (sort.sort_result) {\r\n      case \"Popularity Descending\":\r\n        search.sort((a, b) => Number(b.popularity) - Number(a.popularity));\r\n        // console.log(search);\r\n        break;\r\n      case \"Popularity Ascending\":\r\n        search.sort((a, b) => Number(a.popularity) - Number(b.popularity));\r\n        // console.log(search);\r\n        break;\r\n      case \"Rating Descending\":\r\n        search.sort((a, b) => Number(b.vote_average) - Number(a.vote_average));\r\n        // console.log(search);\r\n        break;\r\n      case \"Rating Ascending\":\r\n        search.sort((a, b) => Number(a.vote_average) - Number(b.vote_average));\r\n        // console.log(search);\r\n        break;\r\n      case \"Release Year Descending\":\r\n        search.sort((a, b) => {\r\n          if (a.release_date < b.release_date) return 1;\r\n          else return -1;\r\n        });\r\n        // console.log(search);\r\n        break;\r\n      case \"Release Year Ascending\":\r\n        search.sort((a, b) => {\r\n          if (a.release_date < b.release_date) return -1;\r\n          else return 1;\r\n        });\r\n        // console.log(search);\r\n        break;\r\n      case \"Title(A-Z)\":\r\n        search.sort((a, b) => {\r\n          if (a.title < b.title) return 1;\r\n          else return -1;\r\n        });\r\n        console.log(search);\r\n        break;\r\n      case \"Title(z-A)\":\r\n        search.sort((a, b) => {\r\n          if (a.title < b.title) return -1;\r\n          else return 1;\r\n        });\r\n        console.log(search);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    ////////filter by year///////////////////\r\n    if (filter.year > 1000)\r\n      search = search.filter((e) => {\r\n        console.log(e.release_date);\r\n        console.log(filter.year);\r\n        return e.release_date?.includes(filter.year);\r\n      });\r\n    ///////filter by genres///////////////\r\n    console.log(filter.genres);\r\n    if (filter.genres.length !== 0)\r\n      filter.genres.forEach((el) => {\r\n        console.log(\"el\", el);\r\n        search = search.filter((e) => {\r\n          return e.genre_ids?.includes(Number(el));\r\n        });\r\n      });\r\n    let remainder =\r\n      search.length / amount_movie_page >\r\n      Math.floor(search.length / amount_movie_page)\r\n        ? 1\r\n        : 0;\r\n\r\n    amount_page = Math.floor(search.length / amount_movie_page) + remainder;\r\n    console.log(search, amount_page);\r\n    this.props.history.push({\r\n      pathname: \"/WebPhimClub/movie\",\r\n      search: \"\",\r\n      state: {},\r\n    });\r\n    // console.log(\"display_last_page:\", display_last_page);\r\n\r\n    if (display_last_page > amount_page) display_last_page = amount_page;\r\n    else display_last_page = this.state.amount_displayPage;\r\n    // console.log(\"display_last_page:\", display_last_page);\r\n    // console.log();\r\n    this.setState({\r\n      search,\r\n      amount_page_search: amount_page,\r\n      check_search: true,\r\n      display_page: 1,\r\n      display_last_page,\r\n    });\r\n  };\r\n  ////////////////////////////creat element//////////////////////////////////\r\n  builtRowsPage = (display_last_page) => {\r\n    const rows = [];\r\n    let {\r\n      display_first_page,\r\n      display_page,\r\n      amount_page_movies,\r\n      amount_page_search,\r\n      check_search,\r\n    } = this.state;\r\n    // let { display_first_page, display_last_page, display_page } = this.state;\r\n    let amount_page = check_search ? amount_page_search : amount_page_movies;\r\n    if (\r\n      (display_page < display_first_page) |\r\n      (display_page > display_last_page)\r\n    )\r\n      this.handlePageTransition(\"clickpage\", display_page, null);\r\n    if (display_last_page > amount_page) display_last_page = amount_page;\r\n\r\n    // console.log(\"object\");\r\n    // console.log(display_last_page);\r\n    // console.log(amount_page);\r\n    // console.log(this.state);\r\n    for (let i = display_first_page; i <= display_last_page; i++) {\r\n      rows[i] = (\r\n        <div\r\n          className=\"pagenum noselect\"\r\n          key={i}\r\n          onClick={() => this.handlePageTransition(\"clickpage\", i)}\r\n          style={{\r\n            backgroundColor: i === display_page ? \"black\" : \"white\",\r\n            color: i === display_page ? \"white\" : \"black\",\r\n          }}\r\n        >\r\n          <span> {i}</span>\r\n        </div>\r\n      );\r\n    }\r\n    return rows;\r\n  };\r\n\r\n  createGenresMovie = () => {\r\n    let genres_arr = [];\r\n    let { genres, filter } = this.state;\r\n    for (let e in genres) {\r\n      genres_arr[genres_arr.length] = (\r\n        <span\r\n          key={genres_arr.length}\r\n          onClick={() => {\r\n            let indexofelement = filter.genres.indexOf(e);\r\n            if (indexofelement === -1) filter.genres[filter.genres.length] = e;\r\n            else filter.genres.splice(indexofelement, 1);\r\n            this.setState({ filter });\r\n            console.log(filter.genres);\r\n          }}\r\n          className=\"noselect\"\r\n          style={\r\n            filter.genres.indexOf(e) !== -1\r\n              ? { backgroundColor: \"black\", color: \"white\" }\r\n              : { backgroundColor: \"white\", color: \"black\" }\r\n          }\r\n        >\r\n          {genres[e]}\r\n        </span>\r\n      );\r\n    }\r\n    return genres_arr;\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      amount_page_movies,\r\n      amount_page_search,\r\n      amount_movie_page,\r\n      search,\r\n      movies,\r\n      check_search,\r\n      // keywords,\r\n      // genres_search,\r\n      release_year,\r\n      // genres,\r\n      display_page,\r\n      // value_page_goto,\r\n      // location,\r\n      sort,\r\n      filter,\r\n      search_movie_disabled,\r\n      display_last_page,\r\n    } = this.state;\r\n    let { addCollection, login } = this.props;\r\n    let display_page_movie = [];\r\n    let amount_page = check_search ? amount_page_search : amount_page_movies;\r\n    if (check_search)\r\n      display_page_movie = search.slice(\r\n        amount_movie_page * (display_page - 1),\r\n        amount_movie_page * display_page\r\n      );\r\n    else\r\n      display_page_movie = movies.slice(\r\n        amount_movie_page * (display_page - 1),\r\n        amount_movie_page * display_page\r\n      );\r\n    // console.log(this.props.handleDisplayFilm);\r\n    // this.props.handleDisplayFilm(display_page_movie);\r\n\r\n    ////////////css/////////////\r\n\r\n    return (\r\n      <div className=\"movie noselect\">\r\n        <div className=\"movie-tool\">\r\n          <div className=\"movie-tool-sort\">\r\n            <div\r\n              className=\"movie-tool-sort-label\"\r\n              onClick={() => {\r\n                sort.sort_open = !sort.sort_open;\r\n                this.setState({ sort: sort });\r\n              }}\r\n            >\r\n              <span>Sort </span>\r\n              {sort.sort_open ? <IoIosArrowForward /> : <IoIosArrowDown />}\r\n            </div>\r\n            <div\r\n              className=\"movie-tool-sort-tool\"\r\n              style={{ display: sort.sort_open ? \"inline-block\" : \"none\" }}\r\n            >\r\n              <div className=\"movie-tool-sort-devide\"></div>\r\n              <label>\r\n                Sort results by\r\n                <select\r\n                  value={sort.sort_result}\r\n                  onChange={(e) => {\r\n                    sort.sort_result = e.target.value;\r\n                    this.setState({ sort: sort, search_movie_disabled: true });\r\n                  }}\r\n                >\r\n                  <option value=\"\">Sort by</option>\r\n                  {sortValue.map((e, i) => (\r\n                    <option value={e} key={i}>\r\n                      {e}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"movie-tool-sort noselect\">\r\n            <div\r\n              className=\"movie-tool-sort-label \"\r\n              onClick={() => {\r\n                filter.filter_open = !filter.filter_open;\r\n                this.setState({ filter: filter });\r\n              }}\r\n            >\r\n              <span>Filters </span>\r\n              {filter.filter_open ? <IoIosArrowForward /> : <IoIosArrowDown />}\r\n            </div>\r\n            <div\r\n              className=\"movie-tool-sort-tool\"\r\n              style={{ display: filter.filter_open ? \"inline-block\" : \"none\" }}\r\n            >\r\n              <div className=\"movie-tool-sort-devide\"></div>\r\n              <label>\r\n                <div>Release Years</div>\r\n                <select\r\n                  value={filter.year}\r\n                  onChange={(e) => {\r\n                    filter.year = e.target.value;\r\n                    this.setState({\r\n                      filter: filter,\r\n                      search_movie_disabled: true,\r\n                    });\r\n                  }}\r\n                >\r\n                  <option value=\"\">Choose year</option>\r\n                  {release_year.map((e, i) => (\r\n                    <option value={e} key={i}>\r\n                      {e}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </label>\r\n              <div className=\"movie-tool-sort-devide\"></div>\r\n\r\n              <label>\r\n                <div>Genres</div>\r\n                <div className=\"genres\">{this.createGenresMovie()}</div>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <button\r\n            disabled={\r\n              search_movie_disabled || filter.genres.length !== 0 ? false : true\r\n            }\r\n            onClick={this.handleClickFilterButton}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n        <div className=\"movie-display\">\r\n          {amount_page === 0 ? (\r\n            <div className=\"noresult\">\r\n              No results for your search\r\n              <AiOutlineSearch />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"movie-display-pagenum\">\r\n                {display_last_page > amount_page\r\n                  ? this.builtRowsPage(amount_page)\r\n                  : this.builtRowsPage(display_last_page)}\r\n                <div\r\n                  className=\"nextpage noselect\"\r\n                  onClick={() => this.handlePageTransition(\"nextpage\")}\r\n                >\r\n                  Next\r\n                  <GiNextButton style={{ fontSize: \"12px\" }} />\r\n                </div>\r\n                <form\r\n                  className=\"gotopage\"\r\n                  onSubmit={(e) => {\r\n                    this.handlePageTransition(\"gotopage\", null, e);\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder={amount_page}\r\n                    min=\"1\"\r\n                    max={amount_page}\r\n                    onChange={this.handleChangeInputGoto}\r\n                  ></input>\r\n                  <button className=\"noselect\">Go</button>\r\n                </form>\r\n              </div>\r\n              <div className=\"movie-display-film\">\r\n                {display_page_movie.map((el, i) => {\r\n                  let { id, poster_path, vote_average, title, release_date } =\r\n                    el;\r\n                  let part_link = id + \"-\" + title.replace(/\\s/g, \"-\");\r\n                  return (\r\n                    <div className=\"movieBanner col-6 col-mo-12\" key={i}>\r\n                      <Link\r\n                        to={\"/webFilmClub/movie/\" + part_link}\r\n                        key={i}\r\n                        className=\"link-decoration\"\r\n                        // onClick={() => {\r\n                        //   // console.log(el);\r\n                        //   this.props.handleDisplayFilm(el);\r\n                        // }}\r\n                      >\r\n                        <div className=\"movieBanner-image\">\r\n                          <img src={poster_path} alt={title}></img>\r\n                          <div className=\"wrap-circleProcessBar\">\r\n                            <CircleProcessBar percent={vote_average * 10} />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"movieBanner-averRate\"></div>\r\n                        <div className=\"movieBanner-title\">\r\n                          <h4>{title}</h4>\r\n                          <h5>{release_date}</h5>\r\n                        </div>\r\n                      </Link>\r\n                      <div\r\n                        // style={{ display: wait ? \"block\" : \"none\" }}\r\n                        className=\"movieBanner-add\"\r\n                        // onClick={(el) => removeCollection(el)}\r\n                        onClick={() => {\r\n                          console.log(\"intro\");\r\n                          login\r\n                            ? addCollection(el)\r\n                            : this.props.controlLogin(true);\r\n                        }}\r\n                      >\r\n                        <AiOutlinePlus />\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n              <div className=\"movie-display-pagenum\">\r\n                {display_last_page > amount_page\r\n                  ? this.builtRowsPage(amount_page)\r\n                  : this.builtRowsPage(display_last_page)}\r\n                <div\r\n                  className=\"nextpage noselect\"\r\n                  onClick={() => this.handlePageTransition(\"nextpage\")}\r\n                >\r\n                  Next\r\n                  <GiNextButton style={{ fontSize: \"12px\" }} />\r\n                </div>\r\n                <form\r\n                  className=\"gotopage\"\r\n                  onSubmit={(e) => {\r\n                    this.handlePageTransition(\"gotopage\", null, e);\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder={amount_page}\r\n                    min=\"1\"\r\n                    max={amount_page}\r\n                    onChange={this.handleChangeInputGoto}\r\n                  ></input>\r\n                  <button className=\"noselect\">Go</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Film extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      turnOn_trailer: false,\r\n      trailer_link: \"\",\r\n      movie: {},\r\n      genres: this.props.genres,\r\n      history: {\r\n        location: {\r\n          pathname: \"\",\r\n        },\r\n      },\r\n      updateHistory_finish: true,\r\n      hover_poster: false,\r\n      similar_movie: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    // console.log(\"componentDidMount\");\r\n    document.addEventListener(\"keydown\", this.pressKey, false);\r\n    this.getSimilarMovies(\"props\");\r\n  }\r\n\r\n  pressKey = (event) => {\r\n    if (event.keyCode === 27) {\r\n      //Do whatever when esc is pressed\r\n      this.setState({ turnOn_trailer: false });\r\n    }\r\n  };\r\n\r\n  getSimilarMovies = async (str) => {\r\n    console.log(\"getSimilarMovies\");\r\n    // this.setState({ updateHistory_finish: false });\r\n    // if(str===\"props\")?\r\n    const { history } = this.props;\r\n    console.log(history.location.pathname);\r\n    // if (history.location.pathname !== \"\")\r\n    //   if (window.location.pathname !== history.location.pathname)\r\n    //     history.location.pathname = window.location.pathname;\r\n    this.setState({ history });\r\n    // let pathnameArr = history.location.pathname.split(\"/\");\r\n    // console.log(pathnameArr[pathnameArr.length]);\r\n    const id = history.match.params.slug.split(\"-\")[0];\r\n    // const id = pathnameArr[pathnameArr.length]?.split(\"-\")[0];\r\n    const api_key = \"d1ac13b85f1d54e58edbe4543ffee597\";\r\n    const url =\r\n      \"https://api.themoviedb.org/3/movie/\" +\r\n      id +\r\n      \"/similar?api_key=\" +\r\n      api_key +\r\n      \"&language=en-US&page=1\";\r\n    const url_movie =\r\n      \"https://api.themoviedb.org/3/movie/\" +\r\n      id +\r\n      \"?api_key=\" +\r\n      api_key +\r\n      \"&language=en-US\";\r\n    console.log(url);\r\n    try {\r\n      const response = await fetch(url);\r\n      const datafet = await response.json();\r\n      // console.log(datafet);\r\n      let { similar_movie } = this.state;\r\n      similar_movie.length = 0;\r\n      datafet.results.forEach((el) => {\r\n        let {\r\n          backdrop_path,\r\n          genre_ids,\r\n          id,\r\n          title,\r\n          overview,\r\n          popularity,\r\n          poster_path,\r\n          release_date,\r\n          vote_average,\r\n          vote_count,\r\n        } = el;\r\n        backdrop_path = \"https://image.tmdb.org/t/p/w500\" + backdrop_path;\r\n        poster_path = \"https://image.tmdb.org/t/p/w500\" + poster_path;\r\n        vote_average = Math.round(vote_average * 10) / 10;\r\n        similar_movie[similar_movie.length] = {\r\n          backdrop_path,\r\n          genre_ids,\r\n          id,\r\n          title,\r\n          overview,\r\n          popularity,\r\n          poster_path,\r\n          release_date,\r\n          vote_average,\r\n          vote_count,\r\n        };\r\n      });\r\n      // console.log(similar_movie);\r\n      this.setState({ similar_movie });\r\n      console.log(similar_movie);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url_movie);\r\n      const datafet = await response.json();\r\n      // console.log(datafet);\r\n      let {\r\n        backdrop_path,\r\n        genres,\r\n        id,\r\n        title,\r\n        overview,\r\n        popularity,\r\n        poster_path,\r\n        release_date,\r\n        vote_average,\r\n        vote_count,\r\n      } = datafet;\r\n      let { movie } = this.state;\r\n      backdrop_path = \"https://image.tmdb.org/t/p/w500\" + backdrop_path;\r\n      poster_path = \"https://image.tmdb.org/t/p/w500\" + poster_path;\r\n      vote_average = Math.round(vote_average * 10) / 10;\r\n      let genre_ids = genres;\r\n      movie = {\r\n        backdrop_path,\r\n        genre_ids,\r\n        id,\r\n        title,\r\n        overview,\r\n        popularity,\r\n        poster_path,\r\n        release_date,\r\n        vote_average,\r\n        vote_count,\r\n      };\r\n      this.setState({ movie });\r\n      console.log(movie);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  getTrailerLink = async (film) => {\r\n    // http://api.themoviedb.org/3/movie/871875/videos?api_key=d1ac13b85f1d54e58edbe4543ffee597\r\n    // https://www.youtube.com/embed?v=SUXWAEX2jlg\r\n    let { trailer_link } = this.state;\r\n    let { id } = film;\r\n    console.log(id);\r\n    console.log(\"this.state.movies\");\r\n    console.log(film);\r\n    const api_key = \"d1ac13b85f1d54e58edbe4543ffee597\";\r\n    let url = \"\";\r\n    url = id\r\n      ? \" http://api.themoviedb.org/3/movie/\" +\r\n        id +\r\n        \"/videos?api_key=\" +\r\n        api_key\r\n      : \"\";\r\n    console.log(url);\r\n    try {\r\n      const response = await fetch(url);\r\n      const datafet = await response.json();\r\n      console.log(datafet);\r\n      let check_search_key = false;\r\n      datafet.results.forEach((el) => {\r\n        if (!check_search_key) {\r\n          if (el.type === \"Trailer\") {\r\n            trailer_link =\r\n              \"https://www.youtube.com/embed/\" + el.key + \"?autoplay=1&mute=0\";\r\n            console.log(trailer_link);\r\n          }\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n\r\n    this.setState({ turnOn_trailer: true, trailer_link });\r\n  };\r\n\r\n  getAPIMovie = () => {\r\n    // this.setState({ updateHistory_finish: false });\r\n    // let { history } = this.state;\r\n    // if (window.location.pathname !== history.location.pathname) {\r\n    console.log(\"object\");\r\n    this.getSimilarMovies();\r\n    window.scrollTo(80, 80);\r\n    // } else {\r\n    //   // this.setState({ updateHistory_finish: true });\r\n    // }\r\n    // return (\r\n    //   <div>\r\n    //     <Loading />\r\n    //   </div>\r\n    // );\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      movie,\r\n      history,\r\n      genres,\r\n      turnOn_trailer,\r\n      hover_poster,\r\n      trailer_link,\r\n      similar_movie,\r\n    } = this.state;\r\n\r\n    let {\r\n      id,\r\n      genre_ids,\r\n      media_type,\r\n      overview,\r\n      popularity,\r\n      poster_path,\r\n      backdrop_path,\r\n      release_date,\r\n      title,\r\n      vote_average,\r\n      vote_count,\r\n    } = movie;\r\n\r\n    console.log(\"vote_average\");\r\n    console.log(vote_average);\r\n    return (\r\n      <div>\r\n        {window.location.pathname === history.location.pathname ? (\r\n          <div className=\"film\">\r\n            <div\r\n              className=\"film-own\"\r\n              style={{\r\n                backgroundImage: `linear-gradient(\r\n            to right,\r\n            var(--BGC-backdropFilm-gradient),\r\n            var(--BGC-backdropFilm-gradient)\r\n          ),\r\n          url(${backdrop_path})`,\r\n                backgroundPosition: \"center\",\r\n                backgroundColor: \"var(--BGC-header)\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n              }}\r\n            >\r\n              <div className=\"film-own-intro\">\r\n                <div\r\n                  className=\"poster\"\r\n                  onMouseOver={() => this.setState({ hover_poster: true })}\r\n                  onMouseOut={() => this.setState({ hover_poster: false })}\r\n                  onClick={() => this.getTrailerLink(movie)}\r\n                >\r\n                  <img src={poster_path} alt={\"movie \" + title}></img>\r\n                  <div\r\n                    className=\"poster-turnonTrailer\"\r\n                    style={{ display: hover_poster ? \"block\" : \"none\" }}\r\n                  >\r\n                    <FaPlayCircle className=\"poster-turnonTrailer-icon\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"info\">\r\n                  <h2>{title}</h2>\r\n                  <p>\r\n                    Release date: <span>{release_date}</span>\r\n                  </p>\r\n                  <p>\r\n                    Genres:{\" \"}\r\n                    {genre_ids?.map((el, i) =>\r\n                      i + 1 < genre_ids.length ? (\r\n                        <span key={i}>{el.name},</span>\r\n                      ) : (\r\n                        <span key={i}>{el.name}.</span>\r\n                      )\r\n                    )}\r\n                  </p>\r\n                  <div className=\"info-feature\">\r\n                    <CircleProcessBar\r\n                      percent={vote_average * 10}\r\n                      stylecss={{ \"--width\": \"70px\", \"--height\": \"70px\" }}\r\n                    />\r\n                    <h3 className=\"info-feature-item\">User score</h3>\r\n                    <div\r\n                      className=\"info-feature-item\"\r\n                      onClick={() => {\r\n                        if (this.props.login) {\r\n                          this.props.addCollection(movie);\r\n                        } else {\r\n                          this.props.controlLogin(true, movie);\r\n                        }\r\n                      }}\r\n                    >\r\n                      <AiOutlineUnorderedList />\r\n                    </div>\r\n                    <div className=\"info-feature-item\">\r\n                      <MdFavorite />\r\n                    </div>\r\n                    <div className=\"info-feature-item\">\r\n                      <BsFillBookmarkFill />\r\n                    </div>\r\n                    <div className=\"info-feature-item\">\r\n                      <AiFillStar />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"info-overview\">\r\n                    <h2>Overview:</h2>\r\n                    <p>{overview}</p>\r\n                  </div>\r\n                  <p>\r\n                    Popularity: <span>{popularity}</span>{\" \"}\r\n                  </p>\r\n                </div>\r\n                {turnOn_trailer ? (\r\n                  <div\r\n                    className=\"trailer noselect\"\r\n                    // style={{ display: turnOn_trailer ? \"block\" : \"none\" }}\r\n                  >\r\n                    {trailer_link ? (\r\n                      <div className=\"trailer-videos\">\r\n                        <div className=\"trailer-videos-head\">\r\n                          <h2>Play Trailer</h2>\r\n                          <div\r\n                            className=\"trailer-videos-close\"\r\n                            onClick={() =>\r\n                              this.setState({ turnOn_trailer: false })\r\n                            }\r\n                          >\r\n                            <AiOutlineClose />\r\n                          </div>\r\n                        </div>\r\n                        <iframe\r\n                          src={trailer_link}\r\n                          frameBorder=\"0\"\r\n                          allow=\"autoplay; encrypted-media\"\r\n                          allowFullScreen\r\n                          title=\"video\"\r\n                          // className=\"trailer-videos\"\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"trailer-videos\">\r\n                        <div\r\n                          className=\"trailer-videos-close\"\r\n                          onClick={() =>\r\n                            this.setState({ turnOn_trailer: false })\r\n                          }\r\n                        >\r\n                          <AiOutlineClose />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n            <h2 className=\"film-recommend-title\">Recommend Movie</h2>\r\n            <div className=\"film-recommend\">\r\n              {similar_movie.length > 0 ? (\r\n                <div>\r\n                  {similar_movie.map((el, i) => {\r\n                    let { id, poster_path, release_date, title, vote_average } =\r\n                      el;\r\n                    let arr_title = title?.split(\" \");\r\n                    let title_url = \"\";\r\n                    arr_title?.forEach(\r\n                      (e) => (title_url = title_url + \"-\" + e)\r\n                    );\r\n                    let part_link = id + title_url;\r\n                    // console.log(part_link);\r\n                    return (\r\n                      <div className=\"movieBannerH\" key={i}>\r\n                        <Link\r\n                          to={\"/webFilmClub/movie/\" + part_link}\r\n                          key={i}\r\n                          className=\"link-decoration\"\r\n                          onClick={() =>\r\n                            setTimeout(() => this.getAPIMovie(), 0)\r\n                          }\r\n                        >\r\n                          <div className=\"movieBannerH-image\">\r\n                            <img src={poster_path} alt={title} />\r\n                            <div className=\"wrap-circleProcessBar\">\r\n                              <CircleProcessBar percent={vote_average * 10} />\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"movieBannerH-averRate\"></div>\r\n                          <div className=\"movieBannerH-title\">\r\n                            <h4>{title}</h4>\r\n                            <h5>{release_date}</h5>\r\n                          </div>\r\n                        </Link>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <div></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Loading />\r\n          </div>\r\n          // this.getAPIMovie()\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      genres: this.props.genres,\r\n      release_year: this.props.release_year,\r\n      movies: [],\r\n      movies_length: 0,\r\n      history: { location: {} },\r\n      ///////////////////////////\r\n      search_arr_props: [],\r\n      search_arr: [],\r\n      amount_displayFilm: 16,\r\n      filter: {\r\n        state: false,\r\n        genres: [],\r\n        release_year: 0,\r\n      },\r\n      wait: true,\r\n      sort: {\r\n        state: false,\r\n        active: \"\",\r\n      },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ history: this.props.history, movies: this.props.movies });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    let { movies } = props;\r\n    let { history, search_arr_props, search_arr, sort, filter } = state;\r\n\r\n    /////filter movies array\r\n    let arr_filter_keywords = props.history.location.search\r\n      .replace(\"?search=\", \"\")\r\n      .split(\"-\");\r\n    console.log(props.history.location.search);\r\n    console.log(history.location.search);\r\n    console.log(arr_filter_keywords);\r\n    let search_arr_temp = [];\r\n    arr_filter_keywords.forEach((el, i) => {\r\n      if (i === 0) {\r\n        search_arr_temp = movies?.filter((el2) => el2.title.includes(el));\r\n      } else {\r\n        search_arr_temp = search_arr_temp.filter((el2) =>\r\n          el2.title.includes(el)\r\n        );\r\n      }\r\n    });\r\n    console.log(\"search_arr_temp\");\r\n    console.log(search_arr_temp);\r\n    console.log(props.movies.length);\r\n    console.log(state.movies_length);\r\n    let search_arr_test = [...search_arr_temp];\r\n    if (\r\n      (props.history.location.search !== history.location.search) |\r\n      (props.movies.length !== state.movies_length)\r\n    ) {\r\n      console.log(\"getDerivedStateFromProps\");\r\n      console.log(search_arr_test);\r\n      search_arr.length = 0;\r\n      sort.active = 0;\r\n      filter.genres.length = 0;\r\n      filter.release_year = 0;\r\n\r\n      return {\r\n        search_arr,\r\n        sort,\r\n        filter,\r\n        search_arr_props: search_arr_test,\r\n        history: props.history,\r\n        movies_length: props.movies.length,\r\n        amount_displayFilm: 16,\r\n      };\r\n    }\r\n    // return { wait: true };\r\n  }\r\n\r\n  builtFilmOfMovies = (arr) => {\r\n    let { wait, genres, amount_displayFilm } = this.state;\r\n    let { addCollection, login } = this.props;\r\n    return (\r\n      <div>\r\n        {arr.slice(0, amount_displayFilm).map((el, i) => {\r\n          let {\r\n            poster_path,\r\n            overview,\r\n            popularity,\r\n            vote_average,\r\n            genre_ids,\r\n            title,\r\n            id,\r\n            backdrop_path,\r\n            release_date,\r\n          } = el;\r\n          let link_part =\r\n            \"/webFilmClub/movie/\" + id + \"-\" + title.replaceAll(\" \", \"-\");\r\n          // console.log(vote_average);\r\n          return (\r\n            <div\r\n              className=\"display-movies-film\"\r\n              key={i}\r\n              style={{\r\n                backgroundImage: `linear-gradient(\r\n    to right,\r\n    var(--BGC-backdropFilm-gradient),\r\n    var(--BGC-backdropFilm-gradient)\r\n  ),\r\n  url(${backdrop_path})`,\r\n                backgroundPosition: \"center\",\r\n                backgroundColor: \"var(--BGC-header)\",\r\n                backgroundRepeat: \"no-repeat\",\r\n                backgroundSize: \"cover\",\r\n              }}\r\n            >\r\n              <div className=\"poster noselect\">\r\n                <Link to={link_part}>\r\n                  <img\r\n                    src={poster_path}\r\n                    alt={link_part}\r\n                    onLoad={() => this.setState({ wait: false })}\r\n                    style={{ display: !wait ? \"block\" : \"none\" }}\r\n                  />\r\n                  <div style={{ display: wait ? \"block\" : \"none\" }}>\r\n                    <Loading />\r\n                  </div>\r\n                </Link>\r\n              </div>\r\n              <div className=\"intro\">\r\n                <div\r\n                  // style={{ display: wait ? \"block\" : \"none\" }}\r\n                  className=\"display-movies-film-add\"\r\n                  // onClick={(el) => removeCollection(el)}\r\n                  onClick={() => {\r\n                    console.log(\"intro\");\r\n                    login ? addCollection(el) : this.props.controlLogin(true);\r\n                  }}\r\n                >\r\n                  <AiOutlinePlus />\r\n                </div>\r\n                <h3>{title}</h3>\r\n                <div>\r\n                  <span className=\"overview\">\r\n                    <h4>Overview: </h4>\r\n                    {overview}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span>\r\n                    <h4>Popularity: </h4>\r\n                    {popularity}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span>\r\n                    <h4>Rate: </h4>\r\n                    {vote_average}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span className=\"overview\">\r\n                    <h4>Genres: </h4>\r\n                    {genre_ids.map((el1) => genres[el1]).join(\",\")}\r\n                  </span>\r\n                </div>\r\n                <div>\r\n                  <span>\r\n                    <h4>Year: </h4>\r\n                    {release_date}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"display-page\">\r\n          <button\r\n            onClick={() => {\r\n              amount_displayFilm += 16;\r\n              this.setState({ amount_displayFilm });\r\n            }}\r\n            style={{ opacity: amount_displayFilm < arr.length ? \"1\" : \"0\" }}\r\n          >\r\n            Load More...\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  builtFilterGenres = () => {\r\n    let arr = [];\r\n    let { genres, filter } = this.state;\r\n    for (let el in genres) {\r\n      arr[arr.length] = (\r\n        <div\r\n          onClick={(e) => {\r\n            let index = filter.genres.indexOf(el);\r\n            console.log(el);\r\n            index === -1\r\n              ? (filter.genres[filter.genres.length] = el)\r\n              : filter.genres.splice(index, 1);\r\n            console.log(\"filter.genres::::\");\r\n            console.log(filter.genres);\r\n            this.setState({ filter });\r\n            this.handleFilter(\"filter\");\r\n          }}\r\n          key={arr.length}\r\n          style={\r\n            filter.genres.includes(el)\r\n              ? { backgroundColor: \"black\", color: \"white\" }\r\n              : { backgroundColor: \"white\", color: \"black\" }\r\n          }\r\n          // onMouseOver={}\r\n          className=\"genres\"\r\n        >\r\n          {genres[el]}\r\n        </div>\r\n      );\r\n    }\r\n    return arr;\r\n  };\r\n\r\n  handleFilter = (kind, active) => {\r\n    // console.log(kind, active);\r\n    let { search_arr, search_arr_props, filter, genres } = this.state;\r\n    // console.log(search_arr);\r\n    if (kind === \"sort\") {\r\n      let { sort } = this.state;\r\n      switch (active) {\r\n        case sortValue[0]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n\r\n        case sortValue[1]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? 1 : -1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n\r\n        case sortValue[2]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.vote_average) > Number(b.vote_average) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n\r\n        case sortValue[3]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.vote_average) > Number(b.vote_average) ? 1 : -1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[4]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[5]:\r\n          search_arr = search_arr_props.sort((a, b) => {\r\n            let a_year = a.release_date.split(\"-\");\r\n            let b_year = b.release_date.split(\"-\");\r\n            if (Number(a_year[a_year.length]) > Number(b_year[b_year.length]))\r\n              return -1;\r\n            else return 1;\r\n          });\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[6]:\r\n          search_arr = search_arr_props.sort((a, b) => {\r\n            let a_year = a.release_date.split(\"-\");\r\n            let b_year = b.release_date.split(\"-\");\r\n            if (Number(a_year[a_year.length]) > Number(b_year[b_year.length]))\r\n              return 1;\r\n            else return -1;\r\n          });\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        case sortValue[7]:\r\n          search_arr = search_arr_props.sort((a, b) =>\r\n            Number(a.popularity) > Number(b.popularity) ? -1 : 1\r\n          );\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n        default:\r\n          search_arr.length = 0;\r\n          console.log(search_arr);\r\n          this.setState({ search_arr });\r\n          break;\r\n      }\r\n    }\r\n\r\n    if (kind === \"filter\") {\r\n      search_arr = [...search_arr_props];\r\n      if (Number(filter.release_year) !== 0) {\r\n        search_arr = search_arr.filter((el) =>\r\n          el.release_date.includes(filter.release_year)\r\n        );\r\n      }\r\n      if (filter.genres.length > 0) {\r\n        console.log(\"filter genres\");\r\n        console.log(search_arr);\r\n        console.log(filter);\r\n        search_arr = search_arr.filter((el) => {\r\n          let check_genres = false;\r\n          // console.log(el.genre_ids);\r\n          el.genre_ids.forEach((el2, j) => {\r\n            console.log(el2);\r\n            if (filter.genres.includes(el2.toString())) {\r\n              console.log(\"object\");\r\n              check_genres = true;\r\n            }\r\n          });\r\n          if (check_genres) return true;\r\n          else return false;\r\n        });\r\n      }\r\n      console.log(search_arr);\r\n      this.setState({ search_arr });\r\n    }\r\n    // console.log(search_arr);\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      movies,\r\n      search_arr_props,\r\n      sort,\r\n      genres,\r\n      history,\r\n      wait,\r\n      search_arr,\r\n      filter,\r\n      release_year,\r\n      amount_displayFilm,\r\n    } = this.state;\r\n    console.log(amount_displayFilm);\r\n    console.log(release_year);\r\n    console.log(genres);\r\n    console.log(sort.active);\r\n    release_year = release_year.sort((el1, el2) => (el1 > el2 ? -1 : 1));\r\n    return (\r\n      <div>\r\n        <div className=\"search noselect\">\r\n          <div className=\"tool\">\r\n            <div className=\"tool-sort\">\r\n              <div\r\n                className=\"tool-sort-header\"\r\n                onClick={() =>\r\n                  // let {state}\r\n                  {\r\n                    sort.state = !sort.state;\r\n                    this.setState({ sort });\r\n                  }\r\n                }\r\n              >\r\n                <span>Sort</span>\r\n                <IoIosArrowDown\r\n                  style={{ display: sort.state ? \"none\" : \"inline-block\" }}\r\n                />\r\n                <IoIosArrowForward\r\n                  style={{ display: sort.state ? \"inline-block\" : \"none\" }}\r\n                />\r\n              </div>\r\n              <div\r\n                className=\"devide\"\r\n                style={{ display: sort.state ? \"block\" : \"none\" }}\r\n              ></div>\r\n              <div\r\n                className=\"tool-sort-content\"\r\n                style={{ display: sort.state ? \"block\" : \"none\" }}\r\n              >\r\n                <label>\r\n                  Sort results by\r\n                  <select\r\n                    value={sort.active}\r\n                    onChange={(e) => {\r\n                      sort.active = e.target.value;\r\n                      this.setState({ sort });\r\n                      this.handleFilter(\"sort\", e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value={0}>---Select----</option>\r\n                    {sortValue.map((e, i) => (\r\n                      <option value={e} key={i}>\r\n                        {e}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"tool-filter\">\r\n              <div\r\n                className=\"tool-filter-header\"\r\n                onClick={() => {\r\n                  filter.state = !filter.state;\r\n                  this.setState({ filter });\r\n                }}\r\n              >\r\n                <span>Filter</span>\r\n                <IoIosArrowDown\r\n                  style={{ display: filter.state ? \"none\" : \"inline-block\" }}\r\n                />\r\n                <IoIosArrowForward\r\n                  style={{ display: filter.state ? \"inline-block\" : \"none\" }}\r\n                />\r\n              </div>\r\n              <div\r\n                className=\"devide\"\r\n                style={{ display: filter.state ? \"block\" : \"none\" }}\r\n              ></div>\r\n              <div\r\n                className=\"tool-filter-content\"\r\n                style={{ display: filter.state ? \"block\" : \"none\" }}\r\n              >\r\n                <label>\r\n                  Release Year\r\n                  <select\r\n                    value={filter.release_year}\r\n                    onChange={(e) => {\r\n                      filter.release_year = e.target.value;\r\n                      this.setState({ filter });\r\n                      this.handleFilter(\"filter\", null);\r\n                    }}\r\n                  >\r\n                    <option value={0} label={\"Choose Year\"}></option>\r\n                    {release_year.map((el, i) => (\r\n                      <option value={el} label={el} key={i}></option>\r\n                    ))}\r\n                  </select>\r\n                </label>\r\n                <div\r\n                  className=\"devide\"\r\n                  style={{ display: filter.state ? \"block\" : \"none\" }}\r\n                ></div>\r\n                <label>Genres :{this.builtFilterGenres()}</label>\r\n                <button\r\n                  onClick={() => {\r\n                    search_arr.length = 0;\r\n                    sort.active = 0;\r\n                    filter.genres.length = 0;\r\n                    filter.release_year = 0;\r\n                    this.setState({ search_arr, sort, filter });\r\n                  }}\r\n                >\r\n                  Clear\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"display\">\r\n            <div className=\"display-page noselect\"></div>\r\n            <div className=\"display-movies\">\r\n              {search_arr.length === 0\r\n                ? this.builtFilmOfMovies(search_arr_props)\r\n                : this.builtFilmOfMovies(search_arr)}\r\n              <div\r\n                className=\"display-noresult\"\r\n                style={{\r\n                  display: search_arr_props.length === 0 ? \"block\" : \"none\",\r\n                }}\r\n              >\r\n                <span>\r\n                  No results for your search\r\n                  <AiOutlineSearch />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/////////////////////////////////////////////////colection page///////////////////////////////////////////\r\nexport class Collection extends Component {\r\n  navHome = () => {\r\n    this.props.history.push({\r\n      pathname: \"/WebPhimClub/\",\r\n      search: \"\",\r\n      state: {},\r\n    });\r\n  };\r\n  render() {\r\n    let { history, removeCollection, collection, genres, movies, login } =\r\n      this.props;\r\n    return (\r\n      <div className=\"collection\">\r\n        {login ? (\r\n          collection.length > 0 ? (\r\n            collection.map((el, i) => {\r\n              let {\r\n                poster_path,\r\n                overview,\r\n                popularity,\r\n                vote_average,\r\n                genre_ids,\r\n                title,\r\n                id,\r\n                backdrop_path,\r\n                release_date,\r\n              } = el;\r\n              let link_part =\r\n                \"/webFilmClub/movie/\" + id + \"-\" + title.replaceAll(\" \", \"-\");\r\n              // console.log(collection);\r\n              return (\r\n                <div\r\n                  className=\"display-movies-film\"\r\n                  key={i}\r\n                  style={{\r\n                    backgroundImage: `linear-gradient(\r\n    to right,\r\n    var(--BGC-backdropFilm-gradient),\r\n    var(--BGC-backdropFilm-gradient)\r\n  ),\r\n  url(${backdrop_path})`,\r\n                    backgroundPosition: \"center\",\r\n                    backgroundColor: \"var(--BGC-header)\",\r\n                    backgroundRepeat: \"no-repeat\",\r\n                    backgroundSize: \"cover\",\r\n                  }}\r\n                >\r\n                  <div className=\"poster noselect\">\r\n                    <Link to={link_part}>\r\n                      <img\r\n                        src={poster_path}\r\n                        alt={link_part}\r\n                        onLoad={() => this.setState({ wait: false })}\r\n                        // style={{ display: !wait ? \"block\" : \"none\" }}\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"intro\">\r\n                    <div\r\n                      // style={{ display: wait ? \"block\" : \"none\" }}\r\n                      className=\"display-movies-film-remove\"\r\n                      onClick={() => removeCollection(el)}\r\n                    >\r\n                      <AiOutlineClose />\r\n                    </div>\r\n                    <h3>{title}</h3>\r\n                    <div>\r\n                      <span className=\"overview\">\r\n                        <h4>Overview: </h4>\r\n                        {overview}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span>\r\n                        <h4>Popularity: </h4>\r\n                        {popularity}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span>\r\n                        <h4>Rate: </h4>\r\n                        {vote_average}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"overview\">\r\n                        <h4>Genres: </h4>\r\n                        {genre_ids.map((el1) => genres[el1]).join(\",\")}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span>\r\n                        <h4>Year: </h4>\r\n                        {release_date}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          ) : (\r\n            <div className=\"movies-note\">\r\n              There are no movies in your collection yet\r\n            </div>\r\n          )\r\n        ) : (\r\n          this.navHome()\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class FAQ extends Component {\r\n  render() {\r\n    return <div className=\"FAQ\"></div>;\r\n  }\r\n}\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","import \"./App.css\";\nimport \"./reset.css\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n// import * as colectionIDs from \"./test.json\";\n// import ReactScrollWheelHandler from \"react-scroll-wheel-handler\";\n/////////////////////////////////////////////////import icon\nimport Logo from \"./../src/images/icon.png\";\n// import { FcFilmReel } from \"react-icons/fc\";\nimport { FiTrendingUp } from \"react-icons/fi\";\nimport {\n  // AiFillCaretDown,\n  // AiFillVideoCamera,\n  AiOutlineSearch,\n  AiOutlineClose,\n  AiFillEyeInvisible,\n  AiFillEye,\n} from \"react-icons/ai\";\nimport { FaGithub, FaTwitter, FaLinkedin, FaAsterisk } from \"react-icons/fa\";\nimport avatar from \"../src/images/250577775_1336573440093459_1633910632867587638_n.jpg\";\n// import { BsCollectionPlayFill } from \"react-icons/bs\";\n///////////////////////////////////////////////////import library function\nimport {\n  // BrowserRouter as Router,\n  Route,\n  Switch,\n  Link,\n  useParams,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport film_collection from \"./filmCollection.json\";\nimport { Home, Collection, FAQ, Movie, Film, Search } from \"./contentApp\";\nimport history from \"./history\";\nimport { Router } from \"react-router-dom\";\nimport reactDom from \"react-dom\";\n\n// D:\\my work\\web dev\\javascript\\reactjs\\My_project\\offline\\WebPhimClub\\public\\icon_head.png\nconst kindOfLink = {\n  collection: \"Collection\",\n  movie: \"movie\",\n  trending: \"trending\",\n  popular: \"popular\",\n  upcoming: \"upcoming\",\n  toprated: \"toprated\",\n  base_img_link: \"https://image.tmdb.org/t/p/w500\", //w500\n  genres: \"genres\",\n};\nexport const concateString = (kind, id, time) => {\n  const api_key = \"d1ac13b85f1d54e58edbe4543ffee597\";\n  switch (kind) {\n    case kindOfLink.collection:\n      return ` https://api.themoviedb.org/3/collection/${id}?api_key=${api_key}&language=en-US`;\n    // break;\n    case kindOfLink.movie:\n      return ` https://api.themoviedb.org/3/movie/${id}?api_key=${api_key}&language=en-US`;\n    // break;\n    case kindOfLink.trending:\n      return `https://api.themoviedb.org/3/trending/all/${time}?api_key=${api_key}`;\n    case kindOfLink.popular:\n      return `https://api.themoviedb.org/3/movie/popular?api_key=${api_key}&language=en-US&page=1`;\n    case kindOfLink.upcoming:\n      return `https://api.themoviedb.org/3/movie/upcoming?api_key=${api_key}&language=en-US&page=1`;\n    case kindOfLink.toprated:\n      return `https://api.themoviedb.org/3/movie/top_rated?api_key=${api_key}&language=en-US&page=1`;\n    case kindOfLink.genres:\n      return `https://api.themoviedb.org/3/genre/movie/list?api_key=${api_key}&language=en-US`;\n    default:\n      break;\n  }\n};\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      trending: {\n        day: [],\n        week: [],\n      },\n      popular: [],\n      upcoming: [],\n      nowplaying: [],\n      toprated: [],\n      genres: {},\n      genre_ids: [],\n      release_year: [],\n      display_film: {},\n      search: [],\n      control_login: false,\n      login: false,\n      countlogin: 0,\n      login_timecounter: 0,\n      passvisible: false,\n      movie_add: {},\n    };\n    this.constVari = {\n      password: \"1\",\n      username: \"nhantran\",\n      timeban: 30,\n    };\n  }\n  componentDidMount() {\n    film_collection.forEach((e) => {\n      // console.log(e.id);\n      this.getAPIMovieArr(kindOfLink.collection, e.id);\n    });\n    this.getAPIMovieArr(kindOfLink.trending, undefined, \"day\");\n    this.getAPIMovieArr(kindOfLink.trending, undefined, \"week\");\n    this.getAPIMovieArr(kindOfLink.popular);\n    this.getAPIMovieArr(kindOfLink.upcoming);\n    this.getAPIMovieArr(kindOfLink.toprated);\n    this.getAPIMovieArr(kindOfLink.genres);\n  }\n\n  getAPIMovieArr = async (kind, id, time) => {\n    let url = concateString(kind, id, time);\n    try {\n      const response = await fetch(url);\n      let datafet = await response.json();\n      // console.log(datafet);\n      switch (kind) {\n        case kindOfLink.collection:\n          {\n            let { movies, release_year } = this.state;\n            for (let film of datafet.parts) {\n              let {\n                id,\n                title,\n                original_title,\n                adult,\n                release_date,\n                poster_path,\n                backdrop_path,\n                overview,\n                vote_average,\n                vote_count,\n                original_language,\n                popularity,\n                genre_ids,\n              } = film;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              movies[movies.length] = {\n                id,\n                title,\n                original_title,\n                adult,\n                release_date,\n                poster_path,\n                backdrop_path,\n                overview,\n                vote_average,\n                vote_count,\n                original_language,\n                popularity,\n                genre_ids,\n              };\n              if (!release_year.includes(release_date.slice(0, 4)))\n                release_year[release_year.length] = release_date.slice(0, 4);\n              // console.log(release_date);\n              // console.log(release_date.slice(0, 4));\n            }\n            this.setState({ movies: movies, release_year: release_year });\n            // console.log(this.state.movie);\n          }\n          break;\n        case kindOfLink.trending:\n          {\n            // console.log(datafet.results);\n            let trending1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              trending1[trending1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n\n            // console.log(movies);\n            let { trending } = this.state;\n            if (time === \"day\") trending.day = trending1;\n            if (time === \"week\") trending.week = trending1;\n            this.setState({ trending, movies, release_year });\n            // console.log(trending1);\n            // console.log(this.state);\n            // console.log(url);\n          }\n          break;\n\n        case kindOfLink.popular:\n          {\n            // console.log(datafet);\n            let popular1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              // console.log(\n              //   overview,\n              //   vote_count,\n              //   media_type,\n              //   id,\n              //   poster_path,\n              //   genre_ids,\n              //   vote_average,\n              //   backdrop_path\n              // );\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n                console.log(movie);\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === undefined) {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              // console.log(movie);\n              popular1[popular1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n            // let { popular } = this.state;\n            // if (time === \"day\") popular.day = popular1;\n            // if (time === \"week\") popular.week = popular1;\n            this.setState({ popular: popular1, movies: movies, release_year });\n            // console.log(this.state.popular);\n          }\n          break;\n\n        case kindOfLink.upcoming:\n          {\n            // console.log(datafet);\n            let upcoming1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === undefined) {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              upcoming1[upcoming1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n            // let { popular } = this.state;\n            // if (time === \"day\") popular.day = popular1;\n            // if (time === \"week\") popular.week = popular1;\n            this.setState({\n              upcoming: upcoming1,\n              movies: movies,\n              release_year,\n            });\n            // console.log(this.state.upcoming);\n          }\n          break;\n\n        case kindOfLink.toprated:\n          {\n            // console.log(datafet);\n            let toprated1 = [];\n            let { movies, release_year } = this.state;\n            datafet.results.forEach((e) => {\n              // console.log(e);\n              let movie = {};\n              let {\n                overview,\n                vote_count,\n                media_type,\n                id,\n                poster_path,\n                genre_ids,\n                vote_average,\n                backdrop_path,\n                popularity,\n              } = e;\n              poster_path = kindOfLink.base_img_link + poster_path;\n              backdrop_path = kindOfLink.base_img_link + backdrop_path;\n              if (media_type === \"tv\") {\n                let { name, original_name, first_air_date } = e;\n                let title = name,\n                  original_title = original_name,\n                  release_date = first_air_date;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === \"movie\") {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              if (media_type === undefined) {\n                let { title, original_title, release_date } = e;\n                movie = {\n                  overview,\n                  vote_count,\n                  media_type,\n                  id,\n                  poster_path,\n                  genre_ids,\n                  vote_average,\n                  backdrop_path,\n                  title,\n                  original_title,\n                  release_date,\n                  popularity,\n                };\n              }\n              toprated1[toprated1.length] = movie;\n              let check_movie_again = false;\n              movies.forEach((e) => {\n                // console.log(movie.id);\n                if (e.id === movie.id) {\n                  check_movie_again = true;\n                }\n              });\n              if (!check_movie_again) {\n                movies.unshift(movie);\n                check_movie_again = false;\n              }\n              if (!release_year.includes(movie.release_date.slice(0, 4)))\n                release_year[release_year.length] = movie.release_date.slice(\n                  0,\n                  4\n                );\n            });\n            this.setState({\n              toprated: toprated1,\n              movies: movies,\n              release_year,\n            });\n            // console.log(this.state.toprated);\n          }\n          break;\n\n        case kindOfLink.genres:\n          // console.log(datafet);\n          let { genres } = this.state;\n          datafet.genres.forEach((e, i) => {\n            genres[e.id] = e.name;\n          });\n          // console.log(\"genres\");\n          // console.log(movies);\n          this.setState({ genres: genres });\n          break;\n        default:\n          break;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  handleDisplayFilm = (film) => {\n    console.log(\"filmsdadasdada\");\n    this.setState({ display_film: film });\n  };\n\n  controlLogin = (x, movie) => {\n    if (movie === undefined) this.setState({ control_login: x });\n    else {\n      this.setState({ control_login: x, movie_add: movie });\n    }\n  };\n\n  accessAccount = (user, pass) => {\n    let { password, username } = this.constVari;\n    let { login, control_login, countlogin, login_timecounter } = this.state;\n    if (user === username) {\n      if (pass === password) {\n        login = true;\n        control_login = false;\n        // movie_add?\n        this.setState({ login, control_login, countlogin: 0 });\n      }\n    } else {\n      countlogin = countlogin + 1;\n      if (countlogin > 4) {\n        login_timecounter = 30;\n        this.setState({ login_timecounter });\n        let id_interval = setInterval(() => {\n          login_timecounter = login_timecounter - 1;\n          login_timecounter === 0\n            ? this.setState({ login_timecounter })\n            : this.setState({ login_timecounter });\n          if (login_timecounter === 0) clearInterval(id_interval);\n        }, 1000);\n      }\n      this.setState({ countlogin });\n    }\n  };\n\n  resetLogInCounter = () => {\n    this.setState({ countlogin: 0 });\n  };\n\n  switchPassVisible = (el) => {\n    this.setState({ passvisible: el });\n  };\n\n  handleLogout = () => {\n    this.setState({ login: false });\n  };\n\n  render() {\n    let {\n      upcoming,\n      popular,\n      trending,\n      genres,\n      movies,\n      release_year,\n      display_film,\n      search,\n      control_login,\n      login,\n      countlogin,\n      passvisible,\n      login_timecounter,\n    } = this.state;\n    console.log(passvisible);\n    // console.log(genres);\n    return (\n      <div className=\"app\">\n        <Router history={history}>\n          <HeaderApp\n            trending={trending}\n            search={search}\n            movies={movies}\n            controlLogin={(el) => this.controlLogin(el)}\n            accessAccount={(user, pass) => this.accessAccount(user, pass)}\n            resetloginCounter={() => this.resetLoginCounter()}\n            switchPassVisible={(el) => this.switchPassVisible(el)}\n            handleLogout={() => this.handleLogout()}\n            control_login={control_login}\n            login={login}\n            countlogin={countlogin}\n            login_timecounter={login_timecounter}\n            passvisible={passvisible}\n          />\n          <div className=\"header-area\"></div>\n          <div>\n            <ContentApp\n              trending={trending}\n              popular={popular}\n              genres={genres}\n              upcoming={upcoming}\n              movies={movies}\n              release_year={release_year}\n              display_film={display_film}\n              handleDisplayFilm={(el) => this.handleDisplayFilm(el)}\n              controlLogin={(el) => this.controlLogin(el)}\n              control_login={control_login}\n              login={login}\n            />\n          </div>\n          <FooterApp />\n        </Router>\n      </div>\n    );\n  }\n}\n\nclass HeaderApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search_state: false,\n      search_state_check: false,\n      search_keyString: \"\",\n      trending: this.props.trending,\n      search_icon_suggest: {\n        wait: \"inline-block\",\n        display: \"none\",\n      },\n      header_bar: true,\n      password: \"\",\n      username: \"\",\n      // note_empty: false,\n      invisetting_state: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"wheel\", this.handleWheelAnywhere, true);\n    window.addEventListener(\"scroll\", this.handleScrollTop, true);\n    document.addEventListener(\"click\", this.handleClickAnywhere);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"wheel\", this.handleWheelAnywhere, true);\n    window.removeEventListener(\"scroll\", this.handleScrollTop, true);\n    document.removeEventListener(\"click\", this.handleClickAnywhere);\n  }\n\n  handleWheelAnywhere = (e) => {\n    if (e.deltaY < 0) {\n      this.setState({\n        search_state_check: false,\n        header_bar: true,\n      });\n    } else if (e.deltaY > 0) {\n      this.setState({\n        search_state_check: false,\n        header_bar: false,\n      });\n    }\n  };\n\n  handleScrollTop = (e) => {\n    // console.log(\"handleScrollTop\");\n    // console.log(e);\n    // console.log(window.scrollY);\n\n    if (window.scrollY === 0) this.setState({ header_bar: true });\n  };\n\n  handleClickSearch = () => {\n    let { search_state } = this.state;\n    this.setState({\n      search_state: !this.state.search_state,\n      search_state_check: false,\n      search_icon_suggest: {\n        display: search_state ? \"inline-block\" : \"none\",\n        wait: search_state ? \"none\" : \"inline-block\",\n      },\n    });\n  };\n\n  headerSuggestAnimationEnd = () => {\n    this.setState({\n      search_state_check: true,\n      search_icon_suggest: {\n        wait: \"none\",\n        display: \"inline-block\",\n      },\n    });\n  };\n\n  handleClickAnywhere = (event) => {\n    // const dom_avatarnode = reactDom.findDOMNode(this.invisetting);\n    if (!this.invisetting.contains(event.target))\n      this.setState({ invisetting_state: false });\n  };\n\n  updateSearchStateCheck = (x) => {\n    x\n      ? this.setState({\n          search_state_check: false,\n          search_icon_suggest: {\n            wait: \"inline-block\",\n            display: \"none\",\n          },\n        })\n      : this.setState({\n          search_state_check: false,\n          search_icon_suggest: {\n            wait: \"none\",\n            display: \"inline-block\",\n          },\n        });\n  };\n\n  turnOffSearchHeader = () => {\n    this.setState({ search_state: false });\n  };\n\n  render() {\n    let {\n      search_icon_suggest,\n      search_keyString,\n      search_state_check,\n      // note_empty,\n    } = this.state;\n    let { display, wait } = this.state.search_icon_suggest;\n    let { search_state, header_bar, trending, invisetting_state } = this.state;\n    // console.log(trending);\n    return (\n      <div className=\"header\" style={{ top: header_bar ? \"0\" : \"-60px\" }}>\n        <div className=\"header-bar\">\n          <div className=\"\">\n            <Link\n              to=\"/WebPhimClub/\"\n              name=\"home\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <div style={{ width: \"60px\", height: \"60px\" }}>\n                <img src={Logo} alt=\"logo web\" className=\"home\"></img>\n              </div>\n            </Link>\n            <Link\n              to=\"/WebPhimClub/movie\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <span className=\"header-bar-text noselect\">Movie</span>\n            </Link>\n            {/* <Link\n              to=\"/WebPhimClub/collection\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <span className=\"header-bar-text noselect\">Collection</span>\n            </Link> */}\n            <Link\n              to=\"/WebPhimClub/FAQ\"\n              className=\"header-bar-link link-decoration\"\n            >\n              <span className=\"header-bar-text noselect\">FAQ</span>\n            </Link>\n          </div>\n          <div>\n            <div>\n              <button\n                className=\"header-bar-login noselect\"\n                onClick={() => this.props.controlLogin(true)}\n                style={{ display: this.props.login ? \"none\" : \"block\" }}\n              >\n                Login\n              </button>\n\n              <div\n                className=\"header-bar-login noselect\"\n                style={{ display: this.props.login ? \"flex\" : \"none\" }}\n              >\n                <div\n                  className=\"header-bar-login-img\"\n                  ref={(el) => (this.invisetting = el)}\n                  onClick={() =>\n                    this.setState({ invisetting_state: !invisetting_state })\n                  }\n                >\n                  <img src={avatar} alt={`avatar of ${this.state.username}`} />\n                </div>\n                <div\n                  className=\"header-bar-login-feature\"\n                  style={{ display: invisetting_state ? \"block\" : \"none\" }}\n                >\n                  <Link\n                    to=\"/WebPhimClub/collection\"\n                    className=\"link-decoration\"\n                  >\n                    <span>Colection</span>\n                  </Link>\n                  <span\n                    onClick={() => {\n                      this.setState({ username: \"\", password: \"\" });\n                      this.props.handleLogout();\n                    }}\n                  >\n                    Logout\n                  </span>\n                </div>\n              </div>\n              <div\n                className=\"wrap-login\"\n                style={{\n                  display: this.props.control_login ? \"block\" : \"none\",\n                }}\n              >\n                <div className=\"login\">\n                  <div\n                    className=\"login-close\"\n                    onClick={(e) => {\n                      this.props.controlLogin(false);\n                      // e.preventDefault()\n                    }}\n                  >\n                    <AiOutlineClose />\n                  </div>\n                  <form\n                    onSubmit={(e) => {\n                      console.log(\"object\");\n                      if ((this.state.username === \"\") | this.state.password)\n                        // this.setState({ note_empty: true });\n                        alert(\"Please fill username and pasword\");\n                      else {\n                        this.props.login_timecounter === 0\n                          ? this.props.accessAccount(\n                              this.state.username,\n                              this.state.password\n                            )\n                          : alert(`you have to wait ${this.props.login_timecounter}s for\n                    the next time`);\n                      }\n                      e.preventDefault();\n                    }}\n                  >\n                    <div className=\"inputfield\">\n                      <label>\n                        <span>Username:</span>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Username\"\n                          value={this.state.username}\n                          onChange={(e) =>\n                            this.setState({ username: e.target.value })\n                          }\n                        ></input>\n                      </label>\n                    </div>\n                    <div className=\"inputfield\">\n                      <label>\n                        <span>Password:</span>\n                        <input\n                          type={this.props.passvisible ? \"text\" : \"password\"}\n                          placeholder=\"Password\"\n                          value={this.state.password}\n                          onChange={(e) =>\n                            this.setState({ password: e.target.value })\n                          }\n                        ></input>\n                      </label>\n                      <div className=\"passvisible\">\n                        <AiFillEye\n                          style={{\n                            display: this.props.passvisible ? \"none\" : \"inline\",\n                          }}\n                          onClick={() => {\n                            // console.log(\"object\");\n                            this.props.switchPassVisible(true);\n                          }}\n                        />\n                        <AiFillEyeInvisible\n                          style={{\n                            display: this.props.passvisible ? \"inline\" : \"none\",\n                          }}\n                          onClick={() => this.props.switchPassVisible(false)}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"login-note\">\n                      <div>\n                        <div\n                          style={{\n                            display:\n                              this.props.login_timecounter === 0\n                                ? \"block\"\n                                : \"none\",\n                          }}\n                        >\n                          <FaAsterisk />\n                          <span>\n                            Login failed more than 5 times will have to waite\n                            30s for the next times\n                          </span>\n                        </div>\n\n                        <div\n                          style={{\n                            display:\n                              this.props.login_timecounter > 0\n                                ? \"block\"\n                                : \"none\",\n                          }}\n                        >\n                          <FaAsterisk />\n                          <span>\n                            You have to wait {this.props.login_timecounter}s for\n                            the next time\n                          </span>\n                        </div>\n                      </div>\n\n                      {/* <div style={{ display: note_empty ? \"block\" : \"none\" }}>\n                      <FaAsterisk />\n                      <span> please fill user and password</span>\n                    </div> */}\n                    </div>\n                    <div className=\"login-control\">\n                      <button\n                        onClick={(e) => {\n                          console.log(\"object\");\n                          console.log(this.state.username);\n                          console.log(this.state.password);\n                          if (\n                            (this.state.username === \"\") |\n                            (this.state.password === \"\")\n                          )\n                            // this.setState({ note_empty: true });\n                            alert(\"Please fill username and pasword\");\n                          else {\n                            this.props.login_timecounter === 0\n                              ? this.props.accessAccount(\n                                  this.state.username,\n                                  this.state.password\n                                )\n                              : alert(`you have to wait ${this.props.login_timecounter}s for\n                      the next time`);\n                          }\n\n                          e.preventDefault();\n                        }}\n                      >\n                        Login\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          this.props.controlLogin(false);\n                          e.preventDefault();\n                        }}\n                      >\n                        Cancel\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <button\n              className=\"header-bar-search\"\n              onClick={this.handleClickSearch}\n            >\n              {search_state ? (\n                <span\n                  className=\"header-bar-icon-back\"\n                  style={{ color: \"white\" }}\n                >\n                  X\n                </span>\n              ) : (\n                <AiOutlineSearch className=\"header-bar-icon-infront\" />\n              )}\n            </button>\n          </div>\n        </div>\n        <HeaderSearchResult\n          search_keyString={search_keyString}\n          search_state_check={search_state_check}\n          display={display}\n          search_icon_suggest={search_icon_suggest}\n          wait={wait}\n          search_state={search_state}\n          headerSuggestAnimationEnd={this.headerSuggestAnimationEnd}\n          trending={trending}\n          updateSearchStateCheck={this.updateSearchStateCheck}\n          search={this.props.search}\n          movies={this.props.movies}\n          close_SearchBoard={() => this.setState({ search_state: false })}\n        />\n      </div>\n    );\n  }\n}\n\nclass HeaderSearchResult extends Component {\n  state = {\n    search_state_check: 0,\n    trending: this.props.trending,\n    search: this.props.search,\n    searchArr_header: [],\n    movies: this.props.movies,\n    search_string: \"\",\n  };\n  componentDidMount() {\n    document.addEventListener(\"click\", this.handleClickOutside, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"click\", this.handleClickOutside, true);\n  }\n\n  handleClickOutside = (e) => {\n    const domNode = ReactDOM.findDOMNode(this);\n\n    if (!domNode || !domNode.contains(e.target)) {\n      this.props.updateSearchStateCheck(false);\n    }\n  };\n\n  handleClickResetSearchResult = () => {\n    this.setState({ search_string: \"\" });\n    this.props.updateSearchStateCheck(true);\n  };\n\n  handleChangeSearchStr = (e) => {\n    let { movies, searchArr_header } = this.state;\n    let search_string = e.target.value;\n    // console.log(e.keyCode);\n    // if (e.keyCode === 27) {\n    //   search_string = \"\";\n    // }\n    let search_stringArr = search_string.split(\" \");\n    // console.log(search_string);\n    // console.log(search_stringArr.length);\n    searchArr_header.length = 0;\n    search_stringArr.forEach((el, i) => {\n      // console.log(el);\n      if (i === 0) {\n        movies.forEach((el1, i1) => {\n          if (el1.title.indexOf(el) >= 0)\n            searchArr_header[searchArr_header.length] = el1;\n        });\n        // console.log(\"searchArr_header1\");\n        // console.log(searchArr_header);\n      } else {\n        let temp_searchArr_header = [];\n        searchArr_header.forEach((el1, i1) => {\n          if (el1.title.indexOf(el) >= 0) {\n            temp_searchArr_header[temp_searchArr_header.length] = el1;\n          }\n          // else console.log(el1.title);\n        });\n        searchArr_header.length = 0;\n        searchArr_header = temp_searchArr_header;\n        // console.log(\"searchArr_header2\");\n        // console.log(searchArr_header);\n      }\n    });\n    // console.log(\"searchArr_header last:\");\n    // console.log(\"Gabriel's Inferno Part III\".indexOf(\"on\"));\n    this.setState({ searchArr_header, search_string });\n  };\n\n  // handleSubmitSearchHeader = () => {\n  //   let { search_string, searchArr_header } = this.state;\n  // };\n\n  render() {\n    let { trending, searchArr_header, search_string } = this.state;\n    // console.log(trending.day?.slice(0, 10));\n    // console.log(trending.week);\n    return (\n      <div>\n        {this.props.search_state ? (\n          <div className=\"header-search\">\n            <form\n              className=\"header-search-tool\"\n              onSubmit={(event) => {\n                const path = \"/webFilmClub/search/\";\n                let arr_search_string = search_string.split(\" \");\n                let convert_search_string = \"\";\n                arr_search_string.forEach((el, i) =>\n                  i === arr_search_string.length - 1\n                    ? (convert_search_string = convert_search_string + el)\n                    : (convert_search_string = convert_search_string + el + \"-\")\n                );\n                let path_searchSTR = \"1?search=\" + convert_search_string;\n                if (search_string !== \"\") history.push(path + path_searchSTR);\n                this.props.close_SearchBoard();\n                event.preventDefault();\n              }}\n            >\n              <AiOutlineSearch className=\"search-icon\" />\n              <input\n                className=\"header-search-tool-filled\"\n                placeholder=\"search for movie...\"\n                type=\"text\"\n                onChange={this.handleChangeSearchStr}\n                value={search_string}\n                autoFocus\n              ></input>\n              <div className=\"close-icon\">\n                <span\n                  className=\"close-icon-wait\"\n                  style={{ display: this.props.wait }}\n                  onAnimationEnd={this.props.headerSuggestAnimationEnd}\n                ></span>\n                <AiOutlineClose\n                  className=\"close-icon-display\"\n                  style={{ display: this.props.display }}\n                  onClick={this.handleClickResetSearchResult}\n                />\n              </div>\n            </form>\n            <div className=\"header-search-result\">\n              {search_string === \"\" ? (\n                <div\n                  style={{\n                    display: this.props.search_state_check ? \"block\" : \"none\",\n                  }}\n                >\n                  <div className=\"header-search-result-trending\">\n                    <FiTrendingUp className=\"trending-icon\" />\n                    <span className=\"trending-text\">Trending</span>\n                  </div>\n                  {trending.day?.slice(0, 10).map((x, i) => {\n                    let { id, title } = x;\n                    let titleArr = title.split(\" \");\n                    let title_str = \"\";\n                    titleArr.forEach((el) => (title_str += \"-\" + el));\n                    let link_part = \"/webFilmClub/movie/\" + id + title_str;\n                    return (\n                      <Link\n                        to={link_part}\n                        className=\"link-decoration\"\n                        onClick={this.props.close_SearchBoard}\n                        key={i}\n                      >\n                        <div className=\"header-search-result-items link-decoration\">\n                          <AiOutlineSearch className=\"icon\" />\n                          <span className=\"text\">{title}</span>\n                        </div>\n                      </Link>\n                    );\n                  })}\n                </div>\n              ) : (\n                <div\n                  style={{\n                    display: this.props.search_state_check ? \"block\" : \"none\",\n                  }}\n                >\n                  {/* <div className=\"header-search-result-trending\">\n                    <FiTrendingUp className=\"trending-icon\" />\n                    <span className=\"trending-text\">Trending</span>\n                  </div> */}\n                  {searchArr_header?.slice(0, 10).map((x, i) => {\n                    let { id, title } = x;\n                    let titleArr = title.split(\" \");\n                    let title_str = \"\";\n                    titleArr.forEach((el) => (title_str += \"-\" + el));\n                    let link_part = \"/webFilmClub/movie/\" + id + title_str;\n                    return (\n                      <Link\n                        to={link_part}\n                        className=\"link-decoration\"\n                        onClick={this.props.close_SearchBoard}\n                        key={i}\n                      >\n                        <div className=\"header-search-result-items link-decoration\">\n                          <AiOutlineSearch className=\"icon\" />\n                          <span className=\"text\">{title}</span>\n                        </div>\n                      </Link>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div></div>\n        )}\n      </div>\n    );\n  }\n}\n\n//////////////////////////////////////////ContentApp///////////////////////////////////////////////////\nclass ContentApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      collection: [],\n    };\n  }\n\n  addCollection = (film) => {\n    let { collection } = this.state;\n\n    let index = collection.findIndex((el) => {\n      console.log(el.id);\n      console.log(film.id);\n      if (el.id === film.id) return true;\n      else return false;\n    });\n    console.log(index);\n    if (index === -1) {\n      console.log(\"addCollection\");\n      console.log(collection);\n      collection[collection.length] = film;\n      this.setState({ collection });\n    } else alert(\"This movie is existing in your collection!\");\n  };\n\n  removeCollection = (film) => {\n    console.log(\"removeCollection\");\n    let { collection } = this.state;\n    let index = collection.findIndex((el) => el.id === film.id);\n    collection.splice(index, 1);\n    this.setState({ collection });\n  };\n\n  render() {\n    // console.log(this.props.location);\n    let { display_film, login, control_login } = this.props;\n    let { collection } = this.state;\n    return (\n      <div className=\"contentApp\">\n        <Switch>\n          <Route\n            exact\n            path=\"/WebPhimClub/\"\n            render={(props) => {\n              return (\n                <Home\n                  popular={this.props.popular}\n                  trending={this.props.trending}\n                  history={props.history}\n                  addCollection={(el) => this.addCollection(el)}\n                  control_login={control_login}\n                  controlLogin={(el) => this.props.controlLogin(el)}\n                  login={login}\n                />\n              );\n            }}\n          />\n          {/* <Home popular={this.props.popular} trending={this.props.trending} />\n          </Route> */}\n          <Route\n            exact\n            path=\"/WebPhimClub/movie\"\n            render={(props) => {\n              // console.log(props);\n              return (\n                <Movie\n                  location={props.location}\n                  history={props.history}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                  release_year={this.props.release_year}\n                  handleDisplayFilm={(el) => this.props.handleDisplayFilm(el)}\n                  addCollection={(el) => this.addCollection(el)}\n                  control_login={control_login}\n                  controlLogin={(el) => this.props.controlLogin(el)}\n                  login={login}\n                />\n              );\n            }}\n          />\n\n          <Route\n            path=\"/webFilmClub/movie/:slug\"\n            render={(props) => {\n              // console.log(props);\n              return (\n                <Film\n                  history={props}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                  control_login={control_login}\n                  addCollection={(el) => this.addCollection(el)}\n                  controlLogin={(el) => this.props.controlLogin(el)}\n                  login={login}\n                />\n              );\n            }}\n          />\n\n          <Route\n            path=\"/webFilmClub/search/:slug\"\n            render={(props) => {\n              console.log(\"/webFilmClub/search/:slug\");\n              return (\n                <Search\n                  history={props}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                  release_year={this.props.release_year}\n                  addCollection={(el) => this.addCollection(el)}\n                  control_login={control_login}\n                  controlLogin={(el) => this.props.controlLogin(el)}\n                  login={login}\n                />\n              );\n            }}\n          />\n\n          <Route\n            path=\"/WebPhimClub/collection\"\n            render={(props) => {\n              console.log(\"/WebPhimClub/collection\");\n              return (\n                <Collection\n                  history={props.history}\n                  movies={this.props.movies}\n                  genres={this.props.genres}\n                  // release_year={this.props.release_year}\n                  collection={collection}\n                  addCollection={(el) => this.addCollection(el)}\n                  removeCollection={(el) => this.removeCollection(el)}\n                  login={login}\n                />\n              );\n            }}\n          />\n\n          <Route path=\"/WebPhimClub/FAQ\">\n            <FAQ />\n          </Route>\n        </Switch>\n      </div>\n    );\n  }\n}\n\n////////////////////////////////////footer///////////////////////////////////////////////////////\nconst FooterApp = () => {\n  return (\n    <div className=\"footer\">\n      <div className=\"text\">\n        <h4>My Film CLub</h4>\n      </div>\n      <div className=\"icon\">\n        {/* <IconContext.Provider value={{ backgroungColor: \"#61dbfb\" }}> */}\n        <FaGithub className=\"react-icons\" />\n        <FaTwitter className=\"react-icons\" />\n        <FaLinkedin className=\"react-icons\" />\n        {/* </IconContext.Provider> */}\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\n// import { BrowserRouter as Router,Route,Link,Switch, } from 'react-router-dom'\n// import Redirect from \"./test/router/redirect/redirect\";\nimport App from \"./App.js\";\n// import { Router } from \"react-router-dom\";\n// import history from \"./history\";\n\nReactDom.render(\n  //   <Router history={history}>\n  <App />,\n  //   </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}